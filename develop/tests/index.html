<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-03-31T16:30:16.420Z&quot;,&quot;end&quot;:&quot;2023-03-31T16:30:26.572Z&quot;,&quot;duration&quot;:10152,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;f525d707-f094-4fc2-b7e5-b7f45c1c243c&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ab07c229-2a56-4583-8894-60a4ec7a3192&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3491d051-086f-407a-a344-e11a5a32bd90&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: msg.toCharArray()\n                });\n            })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b1a550a-e28a-4784-8d89-5c828432c90d&quot;,&quot;parentUUID&quot;:&quot;3491d051-086f-407a-a344-e11a5a32bd90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return msg.toCharArray(); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc4ae7fa-4b38-4008-80a8-1546e2fbb8b1&quot;,&quot;parentUUID&quot;:&quot;3491d051-086f-407a-a344-e11a5a32bd90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9625eee6-6d4a-4f7a-8d81-bfb4ff816fec&quot;,&quot;parentUUID&quot;:&quot;3491d051-086f-407a-a344-e11a5a32bd90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b1a550a-e28a-4784-8d89-5c828432c90d&quot;,&quot;bc4ae7fa-4b38-4008-80a8-1546e2fbb8b1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;9625eee6-6d4a-4f7a-8d81-bfb4ff816fec&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;f84e606c-f0e5-4132-b1d5-1253024ed591&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message(&#x27;Hello World&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 201,\n            statusText: &#x27;CREATED&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    yield api.postMessage(&#x27;Hello World&#x27;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f65a94f-7d42-4a12-91b9-bdd685129322&quot;,&quot;parentUUID&quot;:&quot;f84e606c-f0e5-4132-b1d5-1253024ed591&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75a67ac1-80c8-4b6f-b9e8-66ae31a3631f&quot;,&quot;parentUUID&quot;:&quot;f84e606c-f0e5-4132-b1d5-1253024ed591&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5f65a94f-7d42-4a12-91b9-bdd685129322&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;75a67ac1-80c8-4b6f-b9e8-66ae31a3631f&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;5d20c6cf-d952-403e-a853-a26f79668ac2&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0c173a07-e505-4316-9a1e-f1560434a817&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(&#x27;Hello World&#x27;).toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;535fb655-0af4-476c-9082-060f02b068f8&quot;,&quot;parentUUID&quot;:&quot;0c173a07-e505-4316-9a1e-f1560434a817&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª &#x27;);\nassert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b97c8b9-2446-4a34-b798-192c04d36e75&quot;,&quot;parentUUID&quot;:&quot;0c173a07-e505-4316-9a1e-f1560434a817&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;535fb655-0af4-476c-9082-060f02b068f8&quot;,&quot;3b97c8b9-2446-4a34-b798-192c04d36e75&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;266e60a7-ac66-45c1-845d-9389d2f7fa3d&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello&#x27;), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fad9285-e6a9-4e09-b469-7ac591a62767&quot;,&quot;parentUUID&quot;:&quot;266e60a7-ac66-45c1-845d-9389d2f7fa3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;KÃ¤se&#x27;), [11, 1, 5, 19, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d1cad5a-eda3-44db-99ec-db9024661ee7&quot;,&quot;parentUUID&quot;:&quot;266e60a7-ac66-45c1-845d-9389d2f7fa3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªâ¬œâ¬›&#x27;), [63, 64, 65, 66, 67, 68, 69, 0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6faced50-123e-4dce-810c-022924d12e38&quot;,&quot;parentUUID&quot;:&quot;266e60a7-ac66-45c1-845d-9389d2f7fa3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;, { fallbackChar: null }), [8, 12, 12, 15]);\nassert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;), [8, 60, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32dd4a3a-f4d3-4cd1-a79d-818d60c66059&quot;,&quot;parentUUID&quot;:&quot;266e60a7-ac66-45c1-845d-9389d2f7fa3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text = &#x27;&#x27;;\nconst result = [];\nCHAR_MAP.forEach(([str, chars]) =&gt; {\n    // assert.strictEqual(char.length, 1, `Char \&quot;${char}\&quot; has a length of ${char.length}`);\n    const actual = Message.string2chars(str, { removeUnsupportedWords: false });\n    const expected = chars.length !== 1 || chars[0] !== -2 ? chars : [0];\n    assert.deepStrictEqual(actual, expected, `Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);\n    text += str;\n    result.push(...expected);\n});\nassert.deepStrictEqual(Message.string2chars(text, { removeUnsupportedWords: false }), result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ca073cd-e056-458b-bc77-76c29fe007b2&quot;,&quot;parentUUID&quot;:&quot;266e60a7-ac66-45c1-845d-9389d2f7fa3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7fad9285-e6a9-4e09-b469-7ac591a62767&quot;,&quot;7d1cad5a-eda3-44db-99ec-db9024661ee7&quot;,&quot;6faced50-123e-4dce-810c-022924d12e38&quot;,&quot;32dd4a3a-f4d3-4cd1-a79d-818d60c66059&quot;,&quot;5ca073cd-e056-458b-bc77-76c29fe007b2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7ccd1fbb-a524-47c4-bd12-157ef91b620f&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        0,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67da2eca-89a5-425a-af39-25994fdef97a&quot;,&quot;parentUUID&quot;:&quot;7ccd1fbb-a524-47c4-bd12-157ef91b620f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello-World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ebe9016-504f-45ef-95f5-5b79a88ef63d&quot;,&quot;parentUUID&quot;:&quot;7ccd1fbb-a524-47c4-bd12-157ef91b620f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        18,\n        9,\n        14,\n        4,\n        6,\n        12,\n        5,\n        9,\n        19,\n        3,\n        8,\n        5,\n        20,\n        9,\n        11,\n        5,\n        20,\n        20,\n        9,\n        5,\n        18,\n        44\n    ],\n    [\n        21,\n        14,\n        7,\n        19,\n        21,\n        5,\n        2,\n        5,\n        18,\n        23,\n        1,\n        3,\n        8,\n        21,\n        14,\n        7,\n        19,\n        1,\n        21,\n        6,\n        7,\n        44\n    ],\n    [\n        1,\n        2,\n        5,\n        14,\n        21,\n        5,\n        2,\n        5,\n        18,\n        20,\n        18,\n        1,\n        7,\n        21,\n        14,\n        7,\n        19,\n        7,\n        5,\n        19,\n        5,\n        44,\n    ],\n    [\n        20,\n        26\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;500aee32-8566-4772-88cf-7281902bc78d&quot;,&quot;parentUUID&quot;:&quot;7ccd1fbb-a524-47c4-bd12-157ef91b620f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;67da2eca-89a5-425a-af39-25994fdef97a&quot;,&quot;6ebe9016-504f-45ef-95f5-5b79a88ef63d&quot;,&quot;500aee32-8566-4772-88cf-7281902bc78d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cd97fa32-276b-4225-af68-728b87c1102b&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello World&#x27;), [\n    8,\n    5,\n    12,\n    12,\n    15,\n    0,\n    23,\n    15,\n    18,\n    12,\n    4\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;024d961c-4e2a-423a-8c30-a1c13d05b355&quot;,&quot;parentUUID&quot;:&quot;cd97fa32-276b-4225-af68-728b87c1102b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼Hello&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼ Hello&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30376666-7ae8-44a6-9d53-0a7eabec3c03&quot;,&quot;parentUUID&quot;:&quot;cd97fa32-276b-4225-af68-728b87c1102b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;HelloðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a47a1cb-e653-4e7e-b932-3c117581e3d0&quot;,&quot;parentUUID&quot;:&quot;cd97fa32-276b-4225-af68-728b87c1102b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼ðŸ‘‹ðŸ¼ World&#x27;)), [8, 5, 12, 12, 15, 0, 23, 15, 18, 12, 4]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;534133ae-0aba-4c65-a2d8-e4fb9450fc58&quot;,&quot;parentUUID&quot;:&quot;cd97fa32-276b-4225-af68-728b87c1102b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;024d961c-4e2a-423a-8c30-a1c13d05b355&quot;,&quot;30376666-7ae8-44a6-9d53-0a7eabec3c03&quot;,&quot;0a47a1cb-e653-4e7e-b932-3c117581e3d0&quot;,&quot;534133ae-0aba-4c65-a2d8-e4fb9450fc58&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;77300e20-99e8-4f4c-be40-8fab6adcb123&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]), [6, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b8c5082-cfb5-4fcf-86d8-7137ca61e28e&quot;,&quot;parentUUID&quot;:&quot;77300e20-99e8-4f4c-be40-8fab6adcb123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]), []);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09cc4d1b-3326-4c41-8496-8aedd1c88dee&quot;,&quot;parentUUID&quot;:&quot;77300e20-99e8-4f4c-be40-8fab6adcb123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;Daily&#x27;],\n    [&#x27;Secret Meeting&#x27;]\n]), [22]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9be7929-114c-4547-b00d-e8d801d8016b&quot;,&quot;parentUUID&quot;:&quot;77300e20-99e8-4f4c-be40-8fab6adcb123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;]\n]), [5, 16]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c923df1f-1530-4658-8f19-1ed85637e55a&quot;,&quot;parentUUID&quot;:&quot;77300e20-99e8-4f4c-be40-8fab6adcb123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(() =&gt; {\n    new Message().table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3dd06e8-92e1-40f9-b2eb-2953c997598c&quot;,&quot;parentUUID&quot;:&quot;77300e20-99e8-4f4c-be40-8fab6adcb123&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b8c5082-cfb5-4fcf-86d8-7137ca61e28e&quot;,&quot;09cc4d1b-3326-4c41-8496-8aedd1c88dee&quot;,&quot;f9be7929-114c-4547-b00d-e8d801d8016b&quot;,&quot;c923df1f-1530-4658-8f19-1ed85637e55a&quot;,&quot;c3dd06e8-92e1-40f9-b2eb-2953c997598c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d7882758-0b94-4c78-b167-4315a2f3f77e&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.fill();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b40db6d1-da12-485f-9691-c317104b52c5&quot;,&quot;parentUUID&quot;:&quot;d7882758-0b94-4c78-b167-4315a2f3f77e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c9dd9a5-f9b5-4337-b333-3b1bd8f216d5&quot;,&quot;parentUUID&quot;:&quot;d7882758-0b94-4c78-b167-4315a2f3f77e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f0c6c53-8118-4c8f-9a2e-457ffb1f6ecd&quot;,&quot;parentUUID&quot;:&quot;d7882758-0b94-4c78-b167-4315a2f3f77e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b40db6d1-da12-485f-9691-c317104b52c5&quot;,&quot;7c9dd9a5-f9b5-4337-b333-3b1bd8f216d5&quot;,&quot;7f0c6c53-8118-4c8f-9a2e-457ffb1f6ecd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ee4c5b6-dc60-47ea-9735-2b52d85a0b7a&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 2,\n        row: 5\n    }\n});\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0df2ecc1-87db-49e2-8e6d-8f281be57ccd&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, &#x27; +\n    &#x27;consetetur sadipscing elitr, sed &#x27; +\n    &#x27;diam nonumy eirmod tempor invidunt&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E T E T U R              #\\n&#x27; +\n    &#x27;# S A D I P S C I N G   E L I T R ,   S E D    #\\n&#x27; +\n    &#x27;# D I A M   N O N U M Y   E I R M O D          #\\n&#x27; +\n    &#x27;# T E M P O R   I N V I D U N T                #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cac4112-8e0c-4feb-a1ab-532c3450284f&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem-ipsum-dolor-sit-amet&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M - I P S U M - D O L O R - S I T -  #\\n&#x27; +\n    &#x27;# A M E T                                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a6a7cf4-5f12-438d-8f0d-504487acdcd7&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;13:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Daily&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;18:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;FischstÃ¤bchen, Spinat &amp; Ei&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;20:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;SandmÃ¤nnchen&#x27;, { indent: true });\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 1 3 : 0 0   D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n&#x27; +\n    &#x27;#             S P I N A T   &amp;   E I            #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d571a0e9-89b2-4553-b673-0a5064f2294d&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Rindfleisch&#x27;)\n    .write(&#x27;etikettierungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;ueberwachungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;aufgaben&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;uebertragungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;gesetz&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;(das)&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# R I N D F L E I S C H                        #\\n&#x27; +\n    &#x27;# E T I K E T T I E R U N G S                  #\\n&#x27; +\n    &#x27;# U E B E R W A C H U N G S A U F G A B E N    #\\n&#x27; +\n    &#x27;# U E B E R T R A G U N G S G E S E T Z        #\\n&#x27; +\n    &#x27;# ( D A S )                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fef62bf-2933-4329-a1f3-76284dc341fc&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hello\\nWorld&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O                                    #\\n&#x27; +\n    &#x27;# W O R L D                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69adb6bd-5a60-419f-aa9e-76d3ca84e208&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H ? L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95f44e6d-fd52-424f-a224-3606bbf226b0&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;ðŸ’ªðŸ¼ Gym&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# G Y M                                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95f2f563-1d6e-4292-8472-ab3f53c4cb78&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.&#x27;);\nmsg.write(&#x27;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.&#x27;);\nmsg.write(&#x27;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&#x27;);\nmsg.write(&#x27;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E C T E T U R            #\\n&#x27; +\n    &#x27;# A D I P I S I C I   E L I T ,   S E D        #\\n&#x27; +\n    &#x27;# E I U S M O D   T E M P O R I N C I D U N T  #\\n&#x27; +\n    &#x27;# U T   L A B O R E   E T   D O L O R E        #\\n&#x27; +\n    &#x27;# M A G N A   A L I Q U A .   U T   E N I M    #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61bbf22f-3468-411c-b6ca-a9a64c0f59b2&quot;,&quot;parentUUID&quot;:&quot;25648917-5852-4d19-9834-5092106a8daa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ee4c5b6-dc60-47ea-9735-2b52d85a0b7a&quot;,&quot;0df2ecc1-87db-49e2-8e6d-8f281be57ccd&quot;,&quot;2cac4112-8e0c-4feb-a1ab-532c3450284f&quot;,&quot;5a6a7cf4-5f12-438d-8f0d-504487acdcd7&quot;,&quot;d571a0e9-89b2-4553-b673-0a5064f2294d&quot;,&quot;1fef62bf-2933-4329-a1f3-76284dc341fc&quot;,&quot;69adb6bd-5a60-419f-aa9e-76d3ca84e208&quot;,&quot;95f44e6d-fd52-424f-a224-3606bbf226b0&quot;,&quot;95f2f563-1d6e-4292-8472-ab3f53c4cb78&quot;,&quot;61bbf22f-3468-411c-b6ca-a9a64c0f59b2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f7338012-85d1-45df-ab2d-3c883fb655c4&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edd1b4d3-e009-47ea-8d21-c9432e67c734&quot;,&quot;parentUUID&quot;:&quot;f7338012-85d1-45df-ab2d-3c883fb655c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;],\n    [&#x27;16:30&#x27;, &#x27;Awesome Presentation&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W       D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0   S U P E R   S E C R E T          #\\n&#x27; +\n    &#x27;#             M E E T I N G                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f3e85a4-259a-448b-9abe-3ac92a565811&quot;,&quot;parentUUID&quot;:&quot;f7338012-85d1-45df-ab2d-3c883fb655c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World\\n&#x27;);\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6838a1e-60f9-478e-b0e3-cf0e09abfaaf&quot;,&quot;parentUUID&quot;:&quot;f7338012-85d1-45df-ab2d-3c883fb655c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nassert.throws(() =&gt; {\n    msg.table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9449ec44-99e1-4382-9c1a-87f0c653d741&quot;,&quot;parentUUID&quot;:&quot;f7338012-85d1-45df-ab2d-3c883fb655c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;edd1b4d3-e009-47ea-8d21-c9432e67c734&quot;,&quot;2f3e85a4-259a-448b-9abe-3ac92a565811&quot;,&quot;d6838a1e-60f9-478e-b0e3-cf0e09abfaaf&quot;,&quot;9449ec44-99e1-4382-9c1a-87f0c653d741&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e161baa5-be8f-41f9-aef7-be3049d24212&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80ebd2d7-7e58-4d7a-bd5a-78032b739a10&quot;,&quot;parentUUID&quot;:&quot;e161baa5-be8f-41f9-aef7-be3049d24212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b93b6ec-cea1-440c-bc72-516e92c2a36f&quot;,&quot;parentUUID&quot;:&quot;e161baa5-be8f-41f9-aef7-be3049d24212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 5,\n        row: 11\n    }\n});\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93b0650a-9cc9-466b-96cb-0be35320d286&quot;,&quot;parentUUID&quot;:&quot;e161baa5-be8f-41f9-aef7-be3049d24212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;80ebd2d7-7e58-4d7a-bd5a-78032b739a10&quot;,&quot;7b93b6ec-cea1-440c-bc72-516e92c2a36f&quot;,&quot;93b0650a-9cc9-466b-96cb-0be35320d286&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4a9729d8-2991-4f9c-9151-915acfa822f3&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4fa7ec0c-98b6-4bd4-889e-8888effb4369&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e52845d-4f21-488b-9d50-b44cd0e4b0f7&quot;,&quot;parentUUID&quot;:&quot;4fa7ec0c-98b6-4bd4-889e-8888effb4369&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;8e52845d-4f21-488b-9d50-b44cd0e4b0f7&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;57404fc1-654b-4992-9662-a98c173f621f&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;33617e84-9f55-4544-9ee2-8ad909989b97&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const json = {\n        currentMessage: {\n            layout: JSON.stringify(msg.toCharArray())\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c79ec179-b683-4ca9-b9f2-a0011e1a986b&quot;,&quot;parentUUID&quot;:&quot;33617e84-9f55-4544-9ee2-8ad909989b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49f9c4c2-1673-41b7-845c-843563c2cfb0&quot;,&quot;parentUUID&quot;:&quot;33617e84-9f55-4544-9ee2-8ad909989b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c79ec179-b683-4ca9-b9f2-a0011e1a986b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;49f9c4c2-1673-41b7-845c-843563c2cfb0&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;e4e4ee46-6f77-4149-8193-ba0072c53ba7&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    status: &#x27;ok&#x27;\n                });\n            })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    yield api.postMessage(msg);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;534dc73d-ec83-45f5-8fb5-8c3dd2862801&quot;,&quot;parentUUID&quot;:&quot;e4e4ee46-6f77-4149-8193-ba0072c53ba7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e351e16-5d1f-405c-ae30-3b97b83138e5&quot;,&quot;parentUUID&quot;:&quot;e4e4ee46-6f77-4149-8193-ba0072c53ba7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;534dc73d-ec83-45f5-8fb5-8c3dd2862801&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;7e351e16-5d1f-405c-ae30-3b97b83138e5&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;6f2fa509-3db1-482c-8b8c-3dc57a046ea9&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b57bf61d-864e-434d-bcf7-f7f1b48ecbfb&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const json = {\n        type: &#x27;installation&#x27;,\n        _id: &#x27;f35032ce-fd2b-4afb-8a24-d71c8085303c&#x27;,\n        _created: &#x27;1577829607582&#x27;,\n        installation: {\n            _id: &#x27;562038d1-6fdb-4ba5-ae8b-bc9ec882178d&#x27;\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/viewer&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getViewer();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;242e3aab-cbe5-488b-9f7d-0afc3af5d3f0&quot;,&quot;parentUUID&quot;:&quot;b57bf61d-864e-434d-bcf7-f7f1b48ecbfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;488b49f9-17aa-44e4-9ad4-206d5a8dbca2&quot;,&quot;parentUUID&quot;:&quot;b57bf61d-864e-434d-bcf7-f7f1b48ecbfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;242e3aab-cbe5-488b-9f7d-0afc3af5d3f0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;488b49f9-17aa-44e4-9ad4-206d5a8dbca2&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;45446f44-4c52-4fb6-94ad-c654debb5055&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const json = {\n        subscriptions: [\n            {\n                _id: &#x27;bc6412b3-3aa6-4684-8962-cd2876942c0d&#x27;,\n                _created: &#x27;1577833654294&#x27;,\n                installation: {\n                    _id: &#x27;fefb8778-9500-4522-b115-29c0dd13c402&#x27;,\n                    installable: {\n                        _id: &#x27;b629d7df-7ecb-4460-b51e-f87fa942f113&#x27;\n                    }\n                },\n                boards: [{\n                        _id: &#x27;a1e866f2-e77e-45d8-997a-2e3ebeff4961&#x27;\n                    }]\n            }\n        ]\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getSubscriptions();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73b608bf-db1b-4710-9dfd-9af9a9b1b519&quot;,&quot;parentUUID&quot;:&quot;45446f44-4c52-4fb6-94ad-c654debb5055&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70c22ec8-c968-4e0e-89aa-7b58c4a2cb7f&quot;,&quot;parentUUID&quot;:&quot;45446f44-4c52-4fb6-94ad-c654debb5055&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;73b608bf-db1b-4710-9dfd-9af9a9b1b519&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;70c22ec8-c968-4e0e-89aa-7b58c4a2cb7f&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;26a36258-d941-456e-924a-373a31d483dc&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(msg, &#x27;foo&#x27;);\n    assert.deepStrictEqual(result, {\n        message: {\n            id: &#x27;&#x27;,\n            created: 1\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9f4518c-bc7f-41fc-8686-eba86b3f6cb9&quot;,&quot;parentUUID&quot;:&quot;26a36258-d941-456e-924a-373a31d483dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        const msg = new Message(&#x27;Hello World&#x27;);\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(&#x27;Hello World&#x27;, [&#x27;foo&#x27;, &#x27;foo&#x27;]);\n    assert.deepStrictEqual(result, [\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        },\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        }\n    ]);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43f64122-41b8-4e15-9f12-f5098beadb4e&quot;,&quot;parentUUID&quot;:&quot;26a36258-d941-456e-924a-373a31d483dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03b636e8-14ac-4abf-abd4-dd94940c5bf4&quot;,&quot;parentUUID&quot;:&quot;26a36258-d941-456e-924a-373a31d483dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e9f4518c-bc7f-41fc-8686-eba86b3f6cb9&quot;,&quot;43f64122-41b8-4e15-9f12-f5098beadb4e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;03b636e8-14ac-4abf-abd4-dd94940c5bf4&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;ac2e4230-c9fc-46d7-bf0e-50ef10301297&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;25c78097-7a4d-420f-b709-d33d53a747d1&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return ({ foo: &#x27;bar&#x27; }); })\n        };\n    });\n    const response = yield request(&#x27;https://example.com/test&#x27;, {\n        &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n    }, undefined, { fetch });\n    assert.deepStrictEqual(response, { foo: &#x27;bar&#x27; });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d328364b-2ffb-46a4-9455-6a9f5d12ca00&quot;,&quot;parentUUID&quot;:&quot;25c78097-7a4d-420f-b709-d33d53a747d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10014,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: false,\n            status: 500,\n            statusText: &#x27;ERROR&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    yield assert.rejects(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield request(&#x27;https://example.com/test&#x27;, {\n            &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n        }, undefined, { fetch });\n    }), /HTTP Request failed/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d8968c4-dbc7-47c4-a27e-d4acab5a41c9&quot;,&quot;parentUUID&quot;:&quot;25c78097-7a4d-420f-b709-d33d53a747d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d328364b-2ffb-46a4-9455-6a9f5d12ca00&quot;,&quot;9d8968c4-dbc7-47c4-a27e-d4acab5a41c9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10014,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>