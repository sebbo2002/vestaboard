<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-03-02T19:42:10.681Z&quot;,&quot;end&quot;:&quot;2024-03-02T19:42:20.778Z&quot;,&quot;duration&quot;:10097,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;8accc1aa-1630-456a-967e-178b3abdd138&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4be64919-4a57-4461-919c-95b31d3ff8be&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3c8c7689-fa0a-4465-841b-df59e83a6ede&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: msg.toCharArray()\n                });\n            })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b41a8add-563d-4324-b0bc-fb9663705919&quot;,&quot;parentUUID&quot;:&quot;3c8c7689-fa0a-4465-841b-df59e83a6ede&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return msg.toCharArray(); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9a45cd0-2e5d-4e1f-bbff-cd14f407c608&quot;,&quot;parentUUID&quot;:&quot;3c8c7689-fa0a-4465-841b-df59e83a6ede&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;973099ef-7a70-4547-a2ae-36e648f57a20&quot;,&quot;parentUUID&quot;:&quot;3c8c7689-fa0a-4465-841b-df59e83a6ede&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b41a8add-563d-4324-b0bc-fb9663705919&quot;,&quot;a9a45cd0-2e5d-4e1f-bbff-cd14f407c608&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;973099ef-7a70-4547-a2ae-36e648f57a20&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;a11a17ba-e17d-4cad-83ef-30a70b417585&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message(&#x27;Hello World&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 201,\n            statusText: &#x27;CREATED&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    yield api.postMessage(&#x27;Hello World&#x27;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac12f74b-8147-4b3a-a139-aef4ea078e5e&quot;,&quot;parentUUID&quot;:&quot;a11a17ba-e17d-4cad-83ef-30a70b417585&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22bfbac4-f4ec-4843-87c8-c972a537592f&quot;,&quot;parentUUID&quot;:&quot;a11a17ba-e17d-4cad-83ef-30a70b417585&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ac12f74b-8147-4b3a-a139-aef4ea078e5e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;22bfbac4-f4ec-4843-87c8-c972a537592f&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;3a5e0e4d-60ec-46a8-98da-b467f8791f21&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;49c27a96-56cd-4496-bdcf-255ee955bd7e&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(&#x27;Hello World&#x27;).toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f764d678-297b-4eee-9abb-7fb762bf2b45&quot;,&quot;parentUUID&quot;:&quot;49c27a96-56cd-4496-bdcf-255ee955bd7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª &#x27;);\nassert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe988633-6f3b-49c2-bea4-377ca365869a&quot;,&quot;parentUUID&quot;:&quot;49c27a96-56cd-4496-bdcf-255ee955bd7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f764d678-297b-4eee-9abb-7fb762bf2b45&quot;,&quot;fe988633-6f3b-49c2-bea4-377ca365869a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c29812a4-ee79-4b12-bc27-4b7ce08ffe19&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello&#x27;), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be587eaa-349b-41fb-9b89-7e9c2edab693&quot;,&quot;parentUUID&quot;:&quot;c29812a4-ee79-4b12-bc27-4b7ce08ffe19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;KÃ¤se&#x27;), [11, 1, 5, 19, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d96224c-4023-4d7e-af8b-58e4bef2d5be&quot;,&quot;parentUUID&quot;:&quot;c29812a4-ee79-4b12-bc27-4b7ce08ffe19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªâ¬œâ¬›&#x27;), [63, 64, 65, 66, 67, 68, 69, 0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee2e8c5f-85e0-43fe-8a04-23e23d667814&quot;,&quot;parentUUID&quot;:&quot;c29812a4-ee79-4b12-bc27-4b7ce08ffe19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;, { fallbackChar: null }), [8, 12, 12, 15]);\nassert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;), [8, 60, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02091a00-d502-49e6-baf9-d4beef2f3abf&quot;,&quot;parentUUID&quot;:&quot;c29812a4-ee79-4b12-bc27-4b7ce08ffe19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text = &#x27;&#x27;;\nconst result = [];\nCHAR_MAP.forEach(([str, chars]) =&gt; {\n    // assert.strictEqual(char.length, 1, `Char \&quot;${char}\&quot; has a length of ${char.length}`);\n    const actual = Message.string2chars(str, { removeUnsupportedWords: false });\n    const expected = chars.length !== 1 || chars[0] !== -2 ? chars : [0];\n    assert.deepStrictEqual(actual, expected, `Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);\n    text += str;\n    result.push(...expected);\n});\nassert.deepStrictEqual(Message.string2chars(text, { removeUnsupportedWords: false }), result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d3620f9-3812-48c6-a033-a2b3bca89ab1&quot;,&quot;parentUUID&quot;:&quot;c29812a4-ee79-4b12-bc27-4b7ce08ffe19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be587eaa-349b-41fb-9b89-7e9c2edab693&quot;,&quot;0d96224c-4023-4d7e-af8b-58e4bef2d5be&quot;,&quot;ee2e8c5f-85e0-43fe-8a04-23e23d667814&quot;,&quot;02091a00-d502-49e6-baf9-d4beef2f3abf&quot;,&quot;0d3620f9-3812-48c6-a033-a2b3bca89ab1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d1fe88cf-69d9-4458-bc11-c661968909e4&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        0,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;964b80da-cf35-486e-bc04-98eec8756b4b&quot;,&quot;parentUUID&quot;:&quot;d1fe88cf-69d9-4458-bc11-c661968909e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello-World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9c162e1-83b7-4e96-99e1-6c7831e0aaf7&quot;,&quot;parentUUID&quot;:&quot;d1fe88cf-69d9-4458-bc11-c661968909e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        18,\n        9,\n        14,\n        4,\n        6,\n        12,\n        5,\n        9,\n        19,\n        3,\n        8,\n        5,\n        20,\n        9,\n        11,\n        5,\n        20,\n        20,\n        9,\n        5,\n        18,\n        44\n    ],\n    [\n        21,\n        14,\n        7,\n        19,\n        21,\n        5,\n        2,\n        5,\n        18,\n        23,\n        1,\n        3,\n        8,\n        21,\n        14,\n        7,\n        19,\n        1,\n        21,\n        6,\n        7,\n        44\n    ],\n    [\n        1,\n        2,\n        5,\n        14,\n        21,\n        5,\n        2,\n        5,\n        18,\n        20,\n        18,\n        1,\n        7,\n        21,\n        14,\n        7,\n        19,\n        7,\n        5,\n        19,\n        5,\n        44,\n    ],\n    [\n        20,\n        26\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f350f9f-c3d3-48e4-9f5c-85b52e0e4241&quot;,&quot;parentUUID&quot;:&quot;d1fe88cf-69d9-4458-bc11-c661968909e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;964b80da-cf35-486e-bc04-98eec8756b4b&quot;,&quot;b9c162e1-83b7-4e96-99e1-6c7831e0aaf7&quot;,&quot;3f350f9f-c3d3-48e4-9f5c-85b52e0e4241&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;72575ade-623d-4d01-b599-e4594c4d9dca&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello World&#x27;), [\n    8,\n    5,\n    12,\n    12,\n    15,\n    0,\n    23,\n    15,\n    18,\n    12,\n    4\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e5bfe4c-d870-44dd-a165-f252a6f906a4&quot;,&quot;parentUUID&quot;:&quot;72575ade-623d-4d01-b599-e4594c4d9dca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼Hello&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼ Hello&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fae83a5b-f903-4d5f-860f-111187e004df&quot;,&quot;parentUUID&quot;:&quot;72575ade-623d-4d01-b599-e4594c4d9dca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;HelloðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d385ce4-60b6-4578-a02e-120313efb0dd&quot;,&quot;parentUUID&quot;:&quot;72575ade-623d-4d01-b599-e4594c4d9dca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼ðŸ‘‹ðŸ¼ World&#x27;)), [8, 5, 12, 12, 15, 0, 23, 15, 18, 12, 4]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0c7d8b7-2c21-4b9f-9f04-4462c4c958fa&quot;,&quot;parentUUID&quot;:&quot;72575ade-623d-4d01-b599-e4594c4d9dca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4e5bfe4c-d870-44dd-a165-f252a6f906a4&quot;,&quot;fae83a5b-f903-4d5f-860f-111187e004df&quot;,&quot;5d385ce4-60b6-4578-a02e-120313efb0dd&quot;,&quot;e0c7d8b7-2c21-4b9f-9f04-4462c4c958fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;29f3d7f9-9270-4e58-8f53-3840965304dc&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]), [6, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b41aac9-fbbb-40ec-88b5-7420d30ee8a3&quot;,&quot;parentUUID&quot;:&quot;29f3d7f9-9270-4e58-8f53-3840965304dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]), []);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bef8b05-95e8-4111-833b-0726f5da18f6&quot;,&quot;parentUUID&quot;:&quot;29f3d7f9-9270-4e58-8f53-3840965304dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;Daily&#x27;],\n    [&#x27;Secret Meeting&#x27;]\n]), [22]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8999392e-62ec-48a0-b37f-11b560eb0e30&quot;,&quot;parentUUID&quot;:&quot;29f3d7f9-9270-4e58-8f53-3840965304dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;]\n]), [5, 16]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23079720-1a3b-4c99-bbfc-0aaddb7f5570&quot;,&quot;parentUUID&quot;:&quot;29f3d7f9-9270-4e58-8f53-3840965304dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(() =&gt; {\n    new Message().table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f9d7437-d92e-403d-a8b2-ccf8f829d84d&quot;,&quot;parentUUID&quot;:&quot;29f3d7f9-9270-4e58-8f53-3840965304dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7b41aac9-fbbb-40ec-88b5-7420d30ee8a3&quot;,&quot;3bef8b05-95e8-4111-833b-0726f5da18f6&quot;,&quot;8999392e-62ec-48a0-b37f-11b560eb0e30&quot;,&quot;23079720-1a3b-4c99-bbfc-0aaddb7f5570&quot;,&quot;7f9d7437-d92e-403d-a8b2-ccf8f829d84d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4ed5485-7d71-4ea0-8845-b48efa5b5bd1&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.fill();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0de7633-a3d8-49d6-a03d-60f195a97136&quot;,&quot;parentUUID&quot;:&quot;e4ed5485-7d71-4ea0-8845-b48efa5b5bd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fbe4f86-049a-4e1a-9eba-d04bc045c11d&quot;,&quot;parentUUID&quot;:&quot;e4ed5485-7d71-4ea0-8845-b48efa5b5bd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4f3f6f0-83e2-4c0c-bce9-4390e67806cf&quot;,&quot;parentUUID&quot;:&quot;e4ed5485-7d71-4ea0-8845-b48efa5b5bd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0de7633-a3d8-49d6-a03d-60f195a97136&quot;,&quot;8fbe4f86-049a-4e1a-9eba-d04bc045c11d&quot;,&quot;e4f3f6f0-83e2-4c0c-bce9-4390e67806cf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa571013-d77b-4cb0-b128-ea77498648cf&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 2,\n        row: 5\n    }\n});\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7efe058a-fbf5-4234-8d03-7043ccdc8d5f&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, &#x27; +\n    &#x27;consetetur sadipscing elitr, sed &#x27; +\n    &#x27;diam nonumy eirmod tempor invidunt&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E T E T U R              #\\n&#x27; +\n    &#x27;# S A D I P S C I N G   E L I T R ,   S E D    #\\n&#x27; +\n    &#x27;# D I A M   N O N U M Y   E I R M O D          #\\n&#x27; +\n    &#x27;# T E M P O R   I N V I D U N T                #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be5e5c0a-a43f-4894-a658-525f77f4ed1f&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem-ipsum-dolor-sit-amet&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M - I P S U M - D O L O R - S I T -  #\\n&#x27; +\n    &#x27;# A M E T                                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5da71db8-3b7e-43db-a6b8-5b96fdc52784&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;13:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Daily&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;18:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;FischstÃ¤bchen, Spinat &amp; Ei&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;20:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;SandmÃ¤nnchen&#x27;, { indent: true });\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 1 3 : 0 0   D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n&#x27; +\n    &#x27;#             S P I N A T   &amp;   E I            #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7edd5468-11b7-4626-a7ac-d39a72131c1d&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Rindfleisch&#x27;)\n    .write(&#x27;etikettierungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;ueberwachungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;aufgaben&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;uebertragungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;gesetz&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;(das)&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# R I N D F L E I S C H                        #\\n&#x27; +\n    &#x27;# E T I K E T T I E R U N G S                  #\\n&#x27; +\n    &#x27;# U E B E R W A C H U N G S A U F G A B E N    #\\n&#x27; +\n    &#x27;# U E B E R T R A G U N G S G E S E T Z        #\\n&#x27; +\n    &#x27;# ( D A S )                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cff254df-e677-4fda-8d5f-2a6944d94087&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hello\\nWorld&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O                                    #\\n&#x27; +\n    &#x27;# W O R L D                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;856c8dbd-e803-415a-92d0-842107e24c71&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H ? L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db4c65a2-96bb-4600-8135-8564a80b6ec6&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;ðŸ’ªðŸ¼ Gym&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# G Y M                                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6199b54c-144f-402b-872d-cf6becc62fb4&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.&#x27;);\nmsg.write(&#x27;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.&#x27;);\nmsg.write(&#x27;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&#x27;);\nmsg.write(&#x27;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E C T E T U R            #\\n&#x27; +\n    &#x27;# A D I P I S I C I   E L I T ,   S E D        #\\n&#x27; +\n    &#x27;# E I U S M O D   T E M P O R I N C I D U N T  #\\n&#x27; +\n    &#x27;# U T   L A B O R E   E T   D O L O R E        #\\n&#x27; +\n    &#x27;# M A G N A   A L I Q U A .   U T   E N I M    #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b860a94-6581-483c-ad0a-627aaf90505f&quot;,&quot;parentUUID&quot;:&quot;2532d2ae-d6d6-4657-bc2f-9c5dba1b060e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aa571013-d77b-4cb0-b128-ea77498648cf&quot;,&quot;7efe058a-fbf5-4234-8d03-7043ccdc8d5f&quot;,&quot;be5e5c0a-a43f-4894-a658-525f77f4ed1f&quot;,&quot;5da71db8-3b7e-43db-a6b8-5b96fdc52784&quot;,&quot;7edd5468-11b7-4626-a7ac-d39a72131c1d&quot;,&quot;cff254df-e677-4fda-8d5f-2a6944d94087&quot;,&quot;856c8dbd-e803-415a-92d0-842107e24c71&quot;,&quot;db4c65a2-96bb-4600-8135-8564a80b6ec6&quot;,&quot;6199b54c-144f-402b-872d-cf6becc62fb4&quot;,&quot;6b860a94-6581-483c-ad0a-627aaf90505f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;faac35f1-0323-4fab-984c-4194263230fd&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5eaea2a-f77c-4f26-b342-1ac2f832444e&quot;,&quot;parentUUID&quot;:&quot;faac35f1-0323-4fab-984c-4194263230fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;],\n    [&#x27;16:30&#x27;, &#x27;Awesome Presentation&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W       D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0   S U P E R   S E C R E T          #\\n&#x27; +\n    &#x27;#             M E E T I N G                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d082120-7f9f-4c3f-8479-5c2775511df8&quot;,&quot;parentUUID&quot;:&quot;faac35f1-0323-4fab-984c-4194263230fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World\\n&#x27;);\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a6e1808-5121-4c4c-82dd-fe49dbde6f93&quot;,&quot;parentUUID&quot;:&quot;faac35f1-0323-4fab-984c-4194263230fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nassert.throws(() =&gt; {\n    msg.table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e89245f5-b7a4-4a7e-b772-68a7dfe58e37&quot;,&quot;parentUUID&quot;:&quot;faac35f1-0323-4fab-984c-4194263230fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5eaea2a-f77c-4f26-b342-1ac2f832444e&quot;,&quot;4d082120-7f9f-4c3f-8479-5c2775511df8&quot;,&quot;4a6e1808-5121-4c4c-82dd-fe49dbde6f93&quot;,&quot;e89245f5-b7a4-4a7e-b772-68a7dfe58e37&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7f490c86-e5f4-442a-94b8-0ad628b0d81b&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2cf0ae7-3373-4ac2-865f-55dbdd91234a&quot;,&quot;parentUUID&quot;:&quot;7f490c86-e5f4-442a-94b8-0ad628b0d81b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7257741-36d6-4d89-98e6-2d48f27593cf&quot;,&quot;parentUUID&quot;:&quot;7f490c86-e5f4-442a-94b8-0ad628b0d81b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 5,\n        row: 11\n    }\n});\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99df126f-f36d-410e-be5b-8d68b7fd03e1&quot;,&quot;parentUUID&quot;:&quot;7f490c86-e5f4-442a-94b8-0ad628b0d81b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b2cf0ae7-3373-4ac2-865f-55dbdd91234a&quot;,&quot;c7257741-36d6-4d89-98e6-2d48f27593cf&quot;,&quot;99df126f-f36d-410e-be5b-8d68b7fd03e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dcb31403-fe03-48fb-bfc9-2825df441830&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5c1dafad-cce0-400b-8930-e84b3fa1e722&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c933454b-94c8-4025-a4b5-162fa5a636ae&quot;,&quot;parentUUID&quot;:&quot;5c1dafad-cce0-400b-8930-e84b3fa1e722&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;c933454b-94c8-4025-a4b5-162fa5a636ae&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;28c55d67-ac6b-412d-9b9c-da2c7af47aa0&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c2af6d46-0995-4ab5-ab0a-0b49c0bc192f&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const json = {\n        currentMessage: {\n            layout: JSON.stringify(msg.toCharArray())\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6db6735-a7f2-4f69-9392-8cc54db86964&quot;,&quot;parentUUID&quot;:&quot;c2af6d46-0995-4ab5-ab0a-0b49c0bc192f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;131977b5-5383-4f9d-9867-4f7d54726091&quot;,&quot;parentUUID&quot;:&quot;c2af6d46-0995-4ab5-ab0a-0b49c0bc192f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f6db6735-a7f2-4f69-9392-8cc54db86964&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;131977b5-5383-4f9d-9867-4f7d54726091&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;a219013d-f10d-4c5d-aadd-80adc371104a&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    status: &#x27;ok&#x27;\n                });\n            })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    yield api.postMessage(msg);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e747bdd-7fc7-4dcb-98f0-eac2d07da166&quot;,&quot;parentUUID&quot;:&quot;a219013d-f10d-4c5d-aadd-80adc371104a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fb54e2d-eb63-4816-a5be-0888442cf873&quot;,&quot;parentUUID&quot;:&quot;a219013d-f10d-4c5d-aadd-80adc371104a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9e747bdd-7fc7-4dcb-98f0-eac2d07da166&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;6fb54e2d-eb63-4816-a5be-0888442cf873&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;4df19061-7695-46e9-9660-0ad73432e4b9&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0d0d69ec-2eea-4c60-b8cf-4d2ec4b8ac86&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const json = {\n        type: &#x27;installation&#x27;,\n        _id: &#x27;f35032ce-fd2b-4afb-8a24-d71c8085303c&#x27;,\n        _created: &#x27;1577829607582&#x27;,\n        installation: {\n            _id: &#x27;562038d1-6fdb-4ba5-ae8b-bc9ec882178d&#x27;\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/viewer&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getViewer();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20db991c-4e57-4c09-9caf-788994ce95f2&quot;,&quot;parentUUID&quot;:&quot;0d0d69ec-2eea-4c60-b8cf-4d2ec4b8ac86&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72daf373-67bc-458c-b748-31db63af6fa3&quot;,&quot;parentUUID&quot;:&quot;0d0d69ec-2eea-4c60-b8cf-4d2ec4b8ac86&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;20db991c-4e57-4c09-9caf-788994ce95f2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;72daf373-67bc-458c-b748-31db63af6fa3&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;b26f84c9-5182-4444-92b4-127592fc89a8&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const json = {\n        subscriptions: [\n            {\n                _id: &#x27;bc6412b3-3aa6-4684-8962-cd2876942c0d&#x27;,\n                _created: &#x27;1577833654294&#x27;,\n                installation: {\n                    _id: &#x27;fefb8778-9500-4522-b115-29c0dd13c402&#x27;,\n                    installable: {\n                        _id: &#x27;b629d7df-7ecb-4460-b51e-f87fa942f113&#x27;\n                    }\n                },\n                boards: [{\n                        _id: &#x27;a1e866f2-e77e-45d8-997a-2e3ebeff4961&#x27;\n                    }]\n            }\n        ]\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getSubscriptions();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa0f502c-9a15-4ace-8829-51b20137a2c8&quot;,&quot;parentUUID&quot;:&quot;b26f84c9-5182-4444-92b4-127592fc89a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e99a777-4b4a-421a-a04e-a5fea92e3a57&quot;,&quot;parentUUID&quot;:&quot;b26f84c9-5182-4444-92b4-127592fc89a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa0f502c-9a15-4ace-8829-51b20137a2c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;2e99a777-4b4a-421a-a04e-a5fea92e3a57&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;07cd5ebd-5edb-4623-b31a-81dd6b93684c&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(msg, &#x27;foo&#x27;);\n    assert.deepStrictEqual(result, {\n        message: {\n            id: &#x27;&#x27;,\n            created: 1\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d6f5eef-0ce2-400d-ae01-a2b369e9fab8&quot;,&quot;parentUUID&quot;:&quot;07cd5ebd-5edb-4623-b31a-81dd6b93684c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        const msg = new Message(&#x27;Hello World&#x27;);\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(&#x27;Hello World&#x27;, [&#x27;foo&#x27;, &#x27;foo&#x27;]);\n    assert.deepStrictEqual(result, [\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        },\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        }\n    ]);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5f4d218-b021-4b73-bdec-56f11211b5ac&quot;,&quot;parentUUID&quot;:&quot;07cd5ebd-5edb-4623-b31a-81dd6b93684c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;203d72da-99e0-47fe-9f31-d4d36b67fd3e&quot;,&quot;parentUUID&quot;:&quot;07cd5ebd-5edb-4623-b31a-81dd6b93684c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d6f5eef-0ce2-400d-ae01-a2b369e9fab8&quot;,&quot;e5f4d218-b021-4b73-bdec-56f11211b5ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;203d72da-99e0-47fe-9f31-d4d36b67fd3e&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;2151a4a0-ee22-41d6-a277-7cd85d0c7855&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;666f41c7-af07-492e-b523-0dfdbc1b940a&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return ({ foo: &#x27;bar&#x27; }); })\n        };\n    });\n    const response = yield request(&#x27;https://example.com/test&#x27;, {\n        &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n    }, undefined, { fetch });\n    assert.deepStrictEqual(response, { foo: &#x27;bar&#x27; });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b82d7be9-ee78-40a6-b689-7a573ef1b5bb&quot;,&quot;parentUUID&quot;:&quot;666f41c7-af07-492e-b523-0dfdbc1b940a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10012,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: false,\n            status: 500,\n            statusText: &#x27;ERROR&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    yield assert.rejects(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield request(&#x27;https://example.com/test&#x27;, {\n            &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n        }, undefined, { fetch });\n    }), /HTTP Request failed/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2959b38-63c5-4bde-bb88-f4a5df02bf8c&quot;,&quot;parentUUID&quot;:&quot;666f41c7-af07-492e-b523-0dfdbc1b940a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b82d7be9-ee78-40a6-b689-7a573ef1b5bb&quot;,&quot;f2959b38-63c5-4bde-bb88-f4a5df02bf8c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10012,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.3.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>