<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-02-08T19:47:15.659Z&quot;,&quot;end&quot;:&quot;2023-02-08T19:47:25.777Z&quot;,&quot;duration&quot;:10118,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;cdd6a0ee-a13a-4cd9-ba48-df6b7a062508&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9a254a35-17bd-47df-b5ed-d4823391e494&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;581bc711-17ed-4835-923e-dc744fc0e647&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: msg.toCharArray()\n                });\n            })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cba1b80-0b60-415a-86f3-582599e5b4c8&quot;,&quot;parentUUID&quot;:&quot;581bc711-17ed-4835-923e-dc744fc0e647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return msg.toCharArray(); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ab76c82-586d-4f86-a8c3-b8fa516014d0&quot;,&quot;parentUUID&quot;:&quot;581bc711-17ed-4835-923e-dc744fc0e647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea61d9a5-85f3-413c-af7c-ee9429aa9111&quot;,&quot;parentUUID&quot;:&quot;581bc711-17ed-4835-923e-dc744fc0e647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8cba1b80-0b60-415a-86f3-582599e5b4c8&quot;,&quot;6ab76c82-586d-4f86-a8c3-b8fa516014d0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;ea61d9a5-85f3-413c-af7c-ee9429aa9111&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;b0e82f22-560e-4984-b0f7-cbd056557c74&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message(&#x27;Hello World&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 201,\n            statusText: &#x27;CREATED&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    yield api.postMessage(&#x27;Hello World&#x27;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ecbfda0-01d9-4994-b22a-2cd9da88b9da&quot;,&quot;parentUUID&quot;:&quot;b0e82f22-560e-4984-b0f7-cbd056557c74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0151b041-3986-4b7d-9f86-62f8e41dd29b&quot;,&quot;parentUUID&quot;:&quot;b0e82f22-560e-4984-b0f7-cbd056557c74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6ecbfda0-01d9-4994-b22a-2cd9da88b9da&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;0151b041-3986-4b7d-9f86-62f8e41dd29b&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;3fc38a3c-c0fb-4f7a-8bc5-7e8e09d44eef&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;26ae847c-ae57-41e9-a250-6843e291c460&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(&#x27;Hello World&#x27;).toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4fc12dc-5a45-495d-af1a-599001cbf45e&quot;,&quot;parentUUID&quot;:&quot;26ae847c-ae57-41e9-a250-6843e291c460&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;🟥🟧🟨🟩🟦🟪 &#x27;);\nassert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d03d9299-38d2-46b4-9cdc-def32ed27d4c&quot;,&quot;parentUUID&quot;:&quot;26ae847c-ae57-41e9-a250-6843e291c460&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d4fc12dc-5a45-495d-af1a-599001cbf45e&quot;,&quot;d03d9299-38d2-46b4-9cdc-def32ed27d4c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;29c7fdc9-0bc1-4ee1-8ad4-9d9ad279b662&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello&#x27;), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54e8b73d-590f-4cdd-8563-c4abf8832d87&quot;,&quot;parentUUID&quot;:&quot;29c7fdc9-0bc1-4ee1-8ad4-9d9ad279b662&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Käse&#x27;), [11, 1, 5, 19, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16afefc3-d2b9-4f91-8605-94c0c45c8680&quot;,&quot;parentUUID&quot;:&quot;29c7fdc9-0bc1-4ee1-8ad4-9d9ad279b662&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;🟥🟧🟨🟩🟦🟪⬜⬛&#x27;), [63, 64, 65, 66, 67, 68, 69, 0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e16ef1b-68c5-491e-9790-c6a33efc14ea&quot;,&quot;parentUUID&quot;:&quot;29c7fdc9-0bc1-4ee1-8ad4-9d9ad279b662&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;H⍷llo&#x27;, { fallbackChar: null }), [8, 12, 12, 15]);\nassert.deepStrictEqual(Message.string2chars(&#x27;H⍷llo&#x27;), [8, 60, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cef1267-5a75-4818-8ff0-83b2fc38626b&quot;,&quot;parentUUID&quot;:&quot;29c7fdc9-0bc1-4ee1-8ad4-9d9ad279b662&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text = &#x27;&#x27;;\nconst result = [];\nCHAR_MAP.forEach(([str, chars]) =&gt; {\n    // assert.strictEqual(char.length, 1, `Char \&quot;${char}\&quot; has a length of ${char.length}`);\n    const actual = Message.string2chars(str, { removeUnsupportedWords: false });\n    const expected = chars.length !== 1 || chars[0] !== -2 ? chars : [0];\n    assert.deepStrictEqual(actual, expected, `Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);\n    text += str;\n    result.push(...expected);\n});\nassert.deepStrictEqual(Message.string2chars(text, { removeUnsupportedWords: false }), result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6320678-151f-48ac-a818-1bc0b111404c&quot;,&quot;parentUUID&quot;:&quot;29c7fdc9-0bc1-4ee1-8ad4-9d9ad279b662&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;54e8b73d-590f-4cdd-8563-c4abf8832d87&quot;,&quot;16afefc3-d2b9-4f91-8605-94c0c45c8680&quot;,&quot;7e16ef1b-68c5-491e-9790-c6a33efc14ea&quot;,&quot;1cef1267-5a75-4818-8ff0-83b2fc38626b&quot;,&quot;f6320678-151f-48ac-a818-1bc0b111404c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4e46a63-f7e1-4f9f-9c9d-987f837487cd&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        0,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99c2234e-8b4c-4852-8aab-b5169f331ad3&quot;,&quot;parentUUID&quot;:&quot;e4e46a63-f7e1-4f9f-9c9d-987f837487cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello-World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e89178b3-b195-4d30-bfde-fbbd8ccfc652&quot;,&quot;parentUUID&quot;:&quot;e4e46a63-f7e1-4f9f-9c9d-987f837487cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        18,\n        9,\n        14,\n        4,\n        6,\n        12,\n        5,\n        9,\n        19,\n        3,\n        8,\n        5,\n        20,\n        9,\n        11,\n        5,\n        20,\n        20,\n        9,\n        5,\n        18,\n        44\n    ],\n    [\n        21,\n        14,\n        7,\n        19,\n        21,\n        5,\n        2,\n        5,\n        18,\n        23,\n        1,\n        3,\n        8,\n        21,\n        14,\n        7,\n        19,\n        1,\n        21,\n        6,\n        7,\n        44\n    ],\n    [\n        1,\n        2,\n        5,\n        14,\n        21,\n        5,\n        2,\n        5,\n        18,\n        20,\n        18,\n        1,\n        7,\n        21,\n        14,\n        7,\n        19,\n        7,\n        5,\n        19,\n        5,\n        44,\n    ],\n    [\n        20,\n        26\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77beb072-f320-472c-96c4-b013fc4fa6a9&quot;,&quot;parentUUID&quot;:&quot;e4e46a63-f7e1-4f9f-9c9d-987f837487cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99c2234e-8b4c-4852-8aab-b5169f331ad3&quot;,&quot;e89178b3-b195-4d30-bfde-fbbd8ccfc652&quot;,&quot;77beb072-f320-472c-96c4-b013fc4fa6a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;855f48d0-dcc6-4be3-b387-50b30f99283a&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello World&#x27;), [\n    8,\n    5,\n    12,\n    12,\n    15,\n    0,\n    23,\n    15,\n    18,\n    12,\n    4\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfb34589-7417-4e57-bd52-8068b7cc51be&quot;,&quot;parentUUID&quot;:&quot;855f48d0-dcc6-4be3-b387-50b30f99283a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;👋🏼Hello&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;👋🏼 Hello&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fc82ccc-1f2e-403d-87c5-42e2a248321f&quot;,&quot;parentUUID&quot;:&quot;855f48d0-dcc6-4be3-b387-50b30f99283a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello👋🏼&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello 👋🏼&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af1814a8-4489-4be2-a0b1-005ce639ae8b&quot;,&quot;parentUUID&quot;:&quot;855f48d0-dcc6-4be3-b387-50b30f99283a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello 👋🏼👋🏼 World&#x27;)), [8, 5, 12, 12, 15, 0, 23, 15, 18, 12, 4]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e3bf73f-2294-4199-9d1c-995994f800bc&quot;,&quot;parentUUID&quot;:&quot;855f48d0-dcc6-4be3-b387-50b30f99283a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bfb34589-7417-4e57-bd52-8068b7cc51be&quot;,&quot;7fc82ccc-1f2e-403d-87c5-42e2a248321f&quot;,&quot;af1814a8-4489-4be2-a0b1-005ce639ae8b&quot;,&quot;0e3bf73f-2294-4199-9d1c-995994f800bc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8097e8b8-1fc7-41c8-af4b-c40d2c728d36&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]), [6, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;776297fe-98fb-4ccd-a540-0af3e16aeaab&quot;,&quot;parentUUID&quot;:&quot;8097e8b8-1fc7-41c8-af4b-c40d2c728d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]), []);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d74c41c0-e059-4b06-bfbe-7da9254f8ecc&quot;,&quot;parentUUID&quot;:&quot;8097e8b8-1fc7-41c8-af4b-c40d2c728d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;Daily&#x27;],\n    [&#x27;Secret Meeting&#x27;]\n]), [22]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;404397c4-cfac-47ac-8568-a10978080f89&quot;,&quot;parentUUID&quot;:&quot;8097e8b8-1fc7-41c8-af4b-c40d2c728d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;]\n]), [5, 16]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d93550d-7a43-4ac6-801c-df0cbc688635&quot;,&quot;parentUUID&quot;:&quot;8097e8b8-1fc7-41c8-af4b-c40d2c728d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(() =&gt; {\n    new Message().table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;🟥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f464be2-2ba0-4802-86a8-28c1fc14faa7&quot;,&quot;parentUUID&quot;:&quot;8097e8b8-1fc7-41c8-af4b-c40d2c728d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;776297fe-98fb-4ccd-a540-0af3e16aeaab&quot;,&quot;d74c41c0-e059-4b06-bfbe-7da9254f8ecc&quot;,&quot;404397c4-cfac-47ac-8568-a10978080f89&quot;,&quot;9d93550d-7a43-4ac6-801c-df0cbc688635&quot;,&quot;7f464be2-2ba0-4802-86a8-28c1fc14faa7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c607a03a-8e3c-4b1d-a8f2-469ceedaafda&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.fill();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d15cfd65-fc6d-41d9-b374-b259ee10e5d0&quot;,&quot;parentUUID&quot;:&quot;c607a03a-8e3c-4b1d-a8f2-469ceedaafda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;🟥&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60f4650c-5ac9-4853-93b5-66a945b63c54&quot;,&quot;parentUUID&quot;:&quot;c607a03a-8e3c-4b1d-a8f2-469ceedaafda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩 #\\n&#x27; +\n    &#x27;# 🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧 #\\n&#x27; +\n    &#x27;# 🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪 #\\n&#x27; +\n    &#x27;# 🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩 #\\n&#x27; +\n    &#x27;# 🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧 #\\n&#x27; +\n    &#x27;# 🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪🟥🟧🟨🟩🟦🟪 #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;796803ae-372b-4a53-833a-f27efca03cde&quot;,&quot;parentUUID&quot;:&quot;c607a03a-8e3c-4b1d-a8f2-469ceedaafda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d15cfd65-fc6d-41d9-b374-b259ee10e5d0&quot;,&quot;60f4650c-5ac9-4853-93b5-66a945b63c54&quot;,&quot;796803ae-372b-4a53-833a-f27efca03cde&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1bffdf4-b8b1-45c7-96be-d94a8316703a&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 2,\n        row: 5\n    }\n});\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;effbc656-bd00-4b54-bd08-5e149775e12b&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, &#x27; +\n    &#x27;consetetur sadipscing elitr, sed &#x27; +\n    &#x27;diam nonumy eirmod tempor invidunt&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E T E T U R              #\\n&#x27; +\n    &#x27;# S A D I P S C I N G   E L I T R ,   S E D    #\\n&#x27; +\n    &#x27;# D I A M   N O N U M Y   E I R M O D          #\\n&#x27; +\n    &#x27;# T E M P O R   I N V I D U N T                #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ca98f0c-7609-434d-9856-90528eb6cfc1&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem-ipsum-dolor-sit-amet&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M - I P S U M - D O L O R - S I T -  #\\n&#x27; +\n    &#x27;# A M E T                                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;520daa07-eca2-486f-bc15-618b8550bf75&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;13:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Daily&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;18:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Fischstäbchen, Spinat &amp; Ei&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;20:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Sandmännchen&#x27;, { indent: true });\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 1 3 : 0 0   D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n&#x27; +\n    &#x27;#             S P I N A T   &amp;   E I            #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bf7ccda-43bf-4a47-9e22-5f20b49ab502&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Rindfleisch&#x27;)\n    .write(&#x27;etikettierungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;ueberwachungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;aufgaben&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;uebertragungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;gesetz&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;(das)&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# R I N D F L E I S C H                        #\\n&#x27; +\n    &#x27;# E T I K E T T I E R U N G S                  #\\n&#x27; +\n    &#x27;# U E B E R W A C H U N G S A U F G A B E N    #\\n&#x27; +\n    &#x27;# U E B E R T R A G U N G S G E S E T Z        #\\n&#x27; +\n    &#x27;# ( D A S )                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1009b544-2baa-4652-82bd-842172bc2b26&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hello\\nWorld&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O                                    #\\n&#x27; +\n    &#x27;# W O R L D                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;H⍷llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;H⍷llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1c51678-4bb0-4659-b23b-00cbfc54fca9&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;H⍷llo World&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H ? L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;H⍷llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;H⍷llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a940bf33-cd7c-4199-851e-e08a4dbbd7cc&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;💪🏼 Gym&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# G Y M                                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17188dc2-3a61-466a-86d5-441033284ec8&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.&#x27;);\nmsg.write(&#x27;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.&#x27;);\nmsg.write(&#x27;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&#x27;);\nmsg.write(&#x27;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E C T E T U R            #\\n&#x27; +\n    &#x27;# A D I P I S I C I   E L I T ,   S E D        #\\n&#x27; +\n    &#x27;# E I U S M O D   T E M P O R I N C I D U N T  #\\n&#x27; +\n    &#x27;# U T   L A B O R E   E T   D O L O R E        #\\n&#x27; +\n    &#x27;# M A G N A   A L I Q U A .   U T   E N I M    #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8274e2f0-3760-45b8-8789-5f807a4d1450&quot;,&quot;parentUUID&quot;:&quot;d5236bc1-5470-41d6-b490-274079a2df43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c1bffdf4-b8b1-45c7-96be-d94a8316703a&quot;,&quot;effbc656-bd00-4b54-bd08-5e149775e12b&quot;,&quot;6ca98f0c-7609-434d-9856-90528eb6cfc1&quot;,&quot;520daa07-eca2-486f-bc15-618b8550bf75&quot;,&quot;7bf7ccda-43bf-4a47-9e22-5f20b49ab502&quot;,&quot;1009b544-2baa-4652-82bd-842172bc2b26&quot;,&quot;b1c51678-4bb0-4659-b23b-00cbfc54fca9&quot;,&quot;a940bf33-cd7c-4199-851e-e08a4dbbd7cc&quot;,&quot;17188dc2-3a61-466a-86d5-441033284ec8&quot;,&quot;8274e2f0-3760-45b8-8789-5f807a4d1450&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;294baf92-f3f3-495b-a499-3a6561045d14&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fc5ff3e-40ee-4b29-a086-c8420216094b&quot;,&quot;parentUUID&quot;:&quot;294baf92-f3f3-495b-a499-3a6561045d14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;],\n    [&#x27;16:30&#x27;, &#x27;Awesome Presentation&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W       D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0   S U P E R   S E C R E T          #\\n&#x27; +\n    &#x27;#             M E E T I N G                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fccf277-ed14-42a2-bf2f-caeead077f23&quot;,&quot;parentUUID&quot;:&quot;294baf92-f3f3-495b-a499-3a6561045d14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World\\n&#x27;);\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af8a9ab5-aa34-4ff0-937e-233e3f9a0f77&quot;,&quot;parentUUID&quot;:&quot;294baf92-f3f3-495b-a499-3a6561045d14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nassert.throws(() =&gt; {\n    msg.table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;🟥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b33d1ec-1138-4fa0-a2bb-13893a70e9b9&quot;,&quot;parentUUID&quot;:&quot;294baf92-f3f3-495b-a499-3a6561045d14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8fc5ff3e-40ee-4b29-a086-c8420216094b&quot;,&quot;9fccf277-ed14-42a2-bf2f-caeead077f23&quot;,&quot;af8a9ab5-aa34-4ff0-937e-233e3f9a0f77&quot;,&quot;0b33d1ec-1138-4fa0-a2bb-13893a70e9b9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7411aaba-1ae5-487b-bb9c-b60ab6f89a1c&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcc5e762-39df-4f05-88f5-e6b83ffc1037&quot;,&quot;parentUUID&quot;:&quot;7411aaba-1ae5-487b-bb9c-b60ab6f89a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;🟥&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;# 🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥🟥 #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bafe608-f30d-4d64-9331-8959a0f17611&quot;,&quot;parentUUID&quot;:&quot;7411aaba-1ae5-487b-bb9c-b60ab6f89a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 5,\n        row: 11\n    }\n});\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1124f99-d1ca-4455-b9f3-962b1e04d701&quot;,&quot;parentUUID&quot;:&quot;7411aaba-1ae5-487b-bb9c-b60ab6f89a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dcc5e762-39df-4f05-88f5-e6b83ffc1037&quot;,&quot;6bafe608-f30d-4d64-9331-8959a0f17611&quot;,&quot;f1124f99-d1ca-4455-b9f3-962b1e04d701&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cae4ba99-0fe8-43de-a2b9-3fd4feb8c9ab&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e01cafb7-c6d4-4af1-a763-f52a2a7c9a9f&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1d14063-8765-4099-9b89-36d375a96371&quot;,&quot;parentUUID&quot;:&quot;e01cafb7-c6d4-4af1-a763-f52a2a7c9a9f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;d1d14063-8765-4099-9b89-36d375a96371&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;cd20e367-e703-4b89-8902-2094c7f81aef&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7b94b24b-2954-41f3-b8e9-5fbc3da92613&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\n    const json = {\n        currentMessage: {\n            layout: JSON.stringify(msg.toCharArray())\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3da54c93-1120-44b6-b712-d27238f72861&quot;,&quot;parentUUID&quot;:&quot;7b94b24b-2954-41f3-b8e9-5fbc3da92613&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;918b989f-2b65-4456-9181-61b2da7c4a7d&quot;,&quot;parentUUID&quot;:&quot;7b94b24b-2954-41f3-b8e9-5fbc3da92613&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3da54c93-1120-44b6-b712-d27238f72861&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;918b989f-2b65-4456-9181-61b2da7c4a7d&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;81a70bbf-e426-43a2-98c1-ab03c199d65b&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    status: &#x27;ok&#x27;\n                });\n            })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    yield api.postMessage(msg);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;478f74aa-965d-4d82-99f4-2be9038ef6c5&quot;,&quot;parentUUID&quot;:&quot;81a70bbf-e426-43a2-98c1-ab03c199d65b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53c24e11-1b55-463c-91b8-916104f2d73d&quot;,&quot;parentUUID&quot;:&quot;81a70bbf-e426-43a2-98c1-ab03c199d65b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;478f74aa-965d-4d82-99f4-2be9038ef6c5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;53c24e11-1b55-463c-91b8-916104f2d73d&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;9f19b3c8-501b-4acf-a2d3-bf81306a3304&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a559fa1d-9cc3-43ae-ab84-fdeb87e435bc&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\n    const json = {\n        type: &#x27;installation&#x27;,\n        _id: &#x27;f35032ce-fd2b-4afb-8a24-d71c8085303c&#x27;,\n        _created: &#x27;1577829607582&#x27;,\n        installation: {\n            _id: &#x27;562038d1-6fdb-4ba5-ae8b-bc9ec882178d&#x27;\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/viewer&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getViewer();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f32ddf55-5587-45fe-a884-a74b2e21d1ac&quot;,&quot;parentUUID&quot;:&quot;a559fa1d-9cc3-43ae-ab84-fdeb87e435bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16357bc2-b63c-4573-bcd7-f30d81e53c24&quot;,&quot;parentUUID&quot;:&quot;a559fa1d-9cc3-43ae-ab84-fdeb87e435bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f32ddf55-5587-45fe-a884-a74b2e21d1ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;16357bc2-b63c-4573-bcd7-f30d81e53c24&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;6e0deca1-9b6a-4707-8635-f338d416f06c&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const json = {\n        subscriptions: [\n            {\n                _id: &#x27;bc6412b3-3aa6-4684-8962-cd2876942c0d&#x27;,\n                _created: &#x27;1577833654294&#x27;,\n                installation: {\n                    _id: &#x27;fefb8778-9500-4522-b115-29c0dd13c402&#x27;,\n                    installable: {\n                        _id: &#x27;b629d7df-7ecb-4460-b51e-f87fa942f113&#x27;\n                    }\n                },\n                boards: [{\n                        _id: &#x27;a1e866f2-e77e-45d8-997a-2e3ebeff4961&#x27;\n                    }]\n            }\n        ]\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getSubscriptions();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a55a040-4515-49d7-8667-0dc9b68924f4&quot;,&quot;parentUUID&quot;:&quot;6e0deca1-9b6a-4707-8635-f338d416f06c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3226bb7c-9d61-477d-96d9-2a00f09318d9&quot;,&quot;parentUUID&quot;:&quot;6e0deca1-9b6a-4707-8635-f338d416f06c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a55a040-4515-49d7-8667-0dc9b68924f4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;3226bb7c-9d61-477d-96d9-2a00f09318d9&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;480be2fc-6d01-4cec-96c2-e834f4f75ae2&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;🟥🟧🟨🟩🟦🟪&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(msg, &#x27;foo&#x27;);\n    assert.deepStrictEqual(result, {\n        message: {\n            id: &#x27;&#x27;,\n            created: 1\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fee9798a-70dd-413d-9a0d-4c7fdca00887&quot;,&quot;parentUUID&quot;:&quot;480be2fc-6d01-4cec-96c2-e834f4f75ae2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        const msg = new Message(&#x27;Hello World&#x27;);\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(&#x27;Hello World&#x27;, [&#x27;foo&#x27;, &#x27;foo&#x27;]);\n    assert.deepStrictEqual(result, [\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        },\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        }\n    ]);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee428391-b994-4094-8cae-08cf388bfc50&quot;,&quot;parentUUID&quot;:&quot;480be2fc-6d01-4cec-96c2-e834f4f75ae2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a516f6c3-9aa5-47a2-9ea7-87ea8277f48d&quot;,&quot;parentUUID&quot;:&quot;480be2fc-6d01-4cec-96c2-e834f4f75ae2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fee9798a-70dd-413d-9a0d-4c7fdca00887&quot;,&quot;ee428391-b994-4094-8cae-08cf388bfc50&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;a516f6c3-9aa5-47a2-9ea7-87ea8277f48d&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;aed268da-3923-4310-b0c1-58d31aaa3de3&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;951ef9e6-5b90-458f-becf-b1bac4527a77&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return ({ foo: &#x27;bar&#x27; }); })\n        };\n    });\n    const response = yield request(&#x27;https://example.com/test&#x27;, {\n        &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n    }, undefined, { fetch });\n    assert.deepStrictEqual(response, { foo: &#x27;bar&#x27; });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a15ab8a9-854b-49d1-bbee-dd773f80a7fc&quot;,&quot;parentUUID&quot;:&quot;951ef9e6-5b90-458f-becf-b1bac4527a77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10014,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: false,\n            status: 500,\n            statusText: &#x27;ERROR&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    yield assert.rejects(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield request(&#x27;https://example.com/test&#x27;, {\n            &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n        }, undefined, { fetch });\n    }), /HTTP Request failed/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc061fc7-7b1c-4276-adfd-419fcea5d355&quot;,&quot;parentUUID&quot;:&quot;951ef9e6-5b90-458f-becf-b1bac4527a77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a15ab8a9-854b-49d1-bbee-dd773f80a7fc&quot;,&quot;fc061fc7-7b1c-4276-adfd-419fcea5d355&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10015,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>