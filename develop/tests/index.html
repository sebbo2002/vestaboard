<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-11-12T10:21:48.170Z&quot;,&quot;end&quot;:&quot;2024-11-12T10:21:58.255Z&quot;,&quot;duration&quot;:10085,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;12e77501-5e7b-46fd-b436-82e9bbae4691&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5649719b-8d39-453c-851d-2e9eed337d9a&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;375bcfca-4f30-49f8-ab76-a1e7494548f1&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;http://vestaboard.local:7000/local-api/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Local-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({message:msg.toCharArray()}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new LocalAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,void 0,{fetch});const result=await api.getCurrentMessage();assert.deepStrictEqual(result.toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05a0fe77-bc17-4128-bfbd-532e890344a8&quot;,&quot;parentUUID&quot;:&quot;375bcfca-4f30-49f8-ab76-a1e7494548f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;http://vestaboard.local:7000/local-api/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Local-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;msg.toCharArray(),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new LocalAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,void 0,{fetch});const result=await api.getCurrentMessage();assert.deepStrictEqual(result.toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c404b23-177e-4fef-b9e8-6f3b8acd098f&quot;,&quot;parentUUID&quot;:&quot;375bcfca-4f30-49f8-ab76-a1e7494548f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3da0b6b8-9e1a-4c67-84e9-07b888888b4e&quot;,&quot;parentUUID&quot;:&quot;375bcfca-4f30-49f8-ab76-a1e7494548f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05a0fe77-bc17-4128-bfbd-532e890344a8&quot;,&quot;8c404b23-177e-4fef-b9e8-6f3b8acd098f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;3da0b6b8-9e1a-4c67-84e9-07b888888b4e&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;24aa5288-df11-4ccb-8932-55a3d969151a&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message(\&quot;Hello World\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;http://vestaboard.local:7000/local-api/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Local-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;},body:JSON.stringify(msg.toCharArray())});return{ok:true,status:201,statusText:\&quot;CREATED\&quot;,json:__name(async()=&gt;\&quot;\&quot;,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new LocalAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,void 0,{fetch});await api.postMessage(\&quot;Hello World\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5671b46-a9e5-498d-ab77-e427693c07a3&quot;,&quot;parentUUID&quot;:&quot;24aa5288-df11-4ccb-8932-55a3d969151a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca13b97e-71d4-4fef-bc34-8501d97ffa41&quot;,&quot;parentUUID&quot;:&quot;24aa5288-df11-4ccb-8932-55a3d969151a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5671b46-a9e5-498d-ab77-e427693c07a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;ca13b97e-71d4-4fef-bc34-8501d97ffa41&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;87f187ce-71ba-45f0-ba3a-06cd623dbf4a&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;331c8fa6-c8da-4501-8953-a5256ad5f879&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(\&quot;Hello World\&quot;).toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3451c93-e5d5-4b09-87d4-d93fe07ed140&quot;,&quot;parentUUID&quot;:&quot;331c8fa6-c8da-4501-8953-a5256ad5f879&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA} \&quot;);assert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc581ea2-9c6c-4abe-a9cb-caf7866de288&quot;,&quot;parentUUID&quot;:&quot;331c8fa6-c8da-4501-8953-a5256ad5f879&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3451c93-e5d5-4b09-87d4-d93fe07ed140&quot;,&quot;cc581ea2-9c6c-4abe-a9cb-caf7866de288&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cc3785e8-64a9-4a09-880f-277fe5dea727&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;Hello\&quot;),[8,5,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48e745bc-8f9f-4f2b-ae0b-b8fe95236877&quot;,&quot;parentUUID&quot;:&quot;cc3785e8-64a9-4a09-880f-277fe5dea727&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;K\\xE4se\&quot;),[11,1,5,19,5])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21c75fcd-5b51-41dc-8b02-d982caf009a1&quot;,&quot;parentUUID&quot;:&quot;cc3785e8-64a9-4a09-880f-277fe5dea727&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u2B1C\\u2B1B\&quot;),[63,64,65,66,67,68,69,0])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e827474-872c-47dd-9352-7fc9fb27d26e&quot;,&quot;parentUUID&quot;:&quot;cc3785e8-64a9-4a09-880f-277fe5dea727&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;H\\u2377llo\&quot;,{fallbackChar:null}),[8,12,12,15]);assert.deepStrictEqual(Message.string2chars(\&quot;H\\u2377llo\&quot;),[8,60,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;494b2453-9013-4100-b604-6256734c8d90&quot;,&quot;parentUUID&quot;:&quot;cc3785e8-64a9-4a09-880f-277fe5dea727&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text=\&quot;\&quot;;const result=[];CHAR_MAP.forEach(([str,chars])=&gt;{const actual=Message.string2chars(str,{removeUnsupportedWords:false});const expected=chars.length!==1||chars[0]!==-2?chars:[0];assert.deepStrictEqual(actual,expected,`Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);text+=str;result.push(...expected)});assert.deepStrictEqual(Message.string2chars(text,{removeUnsupportedWords:false}),result)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;160f07f3-f58f-45cf-a7d3-5aca1b3b271d&quot;,&quot;parentUUID&quot;:&quot;cc3785e8-64a9-4a09-880f-277fe5dea727&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48e745bc-8f9f-4f2b-ae0b-b8fe95236877&quot;,&quot;21c75fcd-5b51-41dc-8b02-d982caf009a1&quot;,&quot;8e827474-872c-47dd-9352-7fc9fb27d26e&quot;,&quot;494b2453-9013-4100-b604-6256734c8d90&quot;,&quot;160f07f3-f58f-45cf-a7d3-5aca1b3b271d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;16d5e776-a54d-4ae1-bd7a-e22cb9f1d5d8&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars=Message.string2chars(\&quot;Hello World\&quot;);assert.deepEqual(Message.splitCharsIntoLines(chars,[22,22]),[[8,5,12,12,15,0,23,15,18,12,4]]);assert.deepEqual(Message.splitCharsIntoLines(chars,[8,8]),[[8,5,12,12,15],[23,15,18,12,4]])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1483f61-8dd9-48dd-9cc7-d7f885d1efc1&quot;,&quot;parentUUID&quot;:&quot;16d5e776-a54d-4ae1-bd7a-e22cb9f1d5d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars=Message.string2chars(\&quot;Hello-World\&quot;);assert.deepEqual(Message.splitCharsIntoLines(chars,[22,22]),[[8,5,12,12,15,44,23,15,18,12,4]]);assert.deepEqual(Message.splitCharsIntoLines(chars,[8,8]),[[8,5,12,12,15,44],[23,15,18,12,4]])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eed4c110-57c9-4d02-961a-a39307399e81&quot;,&quot;parentUUID&quot;:&quot;16d5e776-a54d-4ae1-bd7a-e22cb9f1d5d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars=Message.string2chars(\&quot;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz\&quot;);assert.deepEqual(Message.splitCharsIntoLines(chars,[22,22]),[[18,9,14,4,6,12,5,9,19,3,8,5,20,9,11,5,20,20,9,5,18,44],[21,14,7,19,21,5,2,5,18,23,1,3,8,21,14,7,19,1,21,6,7,44],[1,2,5,14,21,5,2,5,18,20,18,1,7,21,14,7,19,7,5,19,5,44],[20,26]])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34def736-6f1f-49db-b738-408ccd87551c&quot;,&quot;parentUUID&quot;:&quot;16d5e776-a54d-4ae1-bd7a-e22cb9f1d5d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1483f61-8dd9-48dd-9cc7-d7f885d1efc1&quot;,&quot;eed4c110-57c9-4d02-961a-a39307399e81&quot;,&quot;34def736-6f1f-49db-b738-408ccd87551c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3f1ddf96-bda8-4272-a729-d53222d90a4f&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;Hello World\&quot;),[8,5,12,12,15,0,23,15,18,12,4])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8360f75c-fb09-4e3b-b75e-01c12901033f&quot;,&quot;parentUUID&quot;:&quot;3f1ddf96-bda8-4272-a729-d53222d90a4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;\\u{1F44B}\\u{1F3FC}Hello\&quot;)),[8,5,12,12,15]);assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;\\u{1F44B}\\u{1F3FC} Hello\&quot;)),[8,5,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f8d4af2-ff86-4c18-bb98-ad02e1d4845a&quot;,&quot;parentUUID&quot;:&quot;3f1ddf96-bda8-4272-a729-d53222d90a4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;Hello\\u{1F44B}\\u{1F3FC}\&quot;)),[8,5,12,12,15]);assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;Hello \\u{1F44B}\\u{1F3FC}\&quot;)),[8,5,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dde7a7c6-ae32-44c2-aafe-7479f70156b8&quot;,&quot;parentUUID&quot;:&quot;3f1ddf96-bda8-4272-a729-d53222d90a4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;Hello \\u{1F44B}\\u{1F3FC}\\u{1F44B}\\u{1F3FC} World\&quot;)),[8,5,12,12,15,0,23,15,18,12,4])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da62ab58-fb6b-4587-a07d-592b6206c7c8&quot;,&quot;parentUUID&quot;:&quot;3f1ddf96-bda8-4272-a729-d53222d90a4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8360f75c-fb09-4e3b-b75e-01c12901033f&quot;,&quot;6f8d4af2-ff86-4c18-bb98-ad02e1d4845a&quot;,&quot;dde7a7c6-ae32-44c2-aafe-7479f70156b8&quot;,&quot;da62ab58-fb6b-4587-a07d-592b6206c7c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b6e862cc-ec01-46b4-a1c3-fc3d97ee38e7&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;]]),[6,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;037e5187-e5d1-45ee-8901-7b08fa0f22d8&quot;,&quot;parentUUID&quot;:&quot;b6e862cc-ec01-46b4-a1c3-fc3d97ee38e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]),[])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bfbe7ba-c0b7-46b9-9b07-79830214ae10&quot;,&quot;parentUUID&quot;:&quot;b6e862cc-ec01-46b4-a1c3-fc3d97ee38e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([[\&quot;Daily\&quot;],[\&quot;Secret Meeting\&quot;]]),[22])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec70f0a2-b800-4d2b-bedb-c5733a510982&quot;,&quot;parentUUID&quot;:&quot;b6e862cc-ec01-46b4-a1c3-fc3d97ee38e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Super Secret Meeting\&quot;]]),[5,16])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd04954d-13cb-4741-9752-0a62a2f69c2f&quot;,&quot;parentUUID&quot;:&quot;b6e862cc-ec01-46b4-a1c3-fc3d97ee38e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(()=&gt;{new Message().table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;,\&quot;\\u{1F7E5}\&quot;]])},/Unable to render table: Row 1 has 3 entries, but first row has 2!/)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;431c9daf-0ebe-4136-99d8-3993a78125ff&quot;,&quot;parentUUID&quot;:&quot;b6e862cc-ec01-46b4-a1c3-fc3d97ee38e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;037e5187-e5d1-45ee-8901-7b08fa0f22d8&quot;,&quot;7bfbe7ba-c0b7-46b9-9b07-79830214ae10&quot;,&quot;ec70f0a2-b800-4d2b-bedb-c5733a510982&quot;,&quot;cd04954d-13cb-4741-9752-0a62a2f69c2f&quot;,&quot;431c9daf-0ebe-4136-99d8-3993a78125ff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a4667eb5-43ac-49ed-af89-4d783b2dd50f&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;);msg.fill();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bff1504-e6a6-43a6-99d2-07fd859e23f4&quot;,&quot;parentUUID&quot;:&quot;a4667eb5-43ac-49ed-af89-4d783b2dd50f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e1c6b1a-99da-4004-a4b8-624f30f9ed06&quot;,&quot;parentUUID&quot;:&quot;a4667eb5-43ac-49ed-af89-4d783b2dd50f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# \\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9} #\\n# \\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7} #\\n# \\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA} #\\n# \\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9} #\\n# \\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7} #\\n# \\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA} #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5c9e427-1ef6-4d91-ad0d-e104b319fdc6&quot;,&quot;parentUUID&quot;:&quot;a4667eb5-43ac-49ed-af89-4d783b2dd50f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3bff1504-e6a6-43a6-99d2-07fd859e23f4&quot;,&quot;5e1c6b1a-99da-4004-a4b8-624f30f9ed06&quot;,&quot;d5c9e427-1ef6-4d91-ad0d-e104b319fdc6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# H E L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31371cf6-3b7b-4441-8877-c6810335e27e&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;,{position:{line:2,row:5}});assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b69da174-3e1f-45cf-9bb2-19a790dfea56&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# L O R E M   I P S U M   D O L O R   S I T    #\\n# A M E T ,   C O N S E T E T U R              #\\n# S A D I P S C I N G   E L I T R ,   S E D    #\\n# D I A M   N O N U M Y   E I R M O D          #\\n# T E M P O R   I N V I D U N T                #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;179fdc00-af4c-4296-a560-e39c05a0aa53&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Lorem-ipsum-dolor-sit-amet\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# L O R E M - I P S U M - D O L O R - S I T -  #\\n# A M E T                                      #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a3f8c82-0328-425c-9b18-55c2c7fdf5fa&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;13:00\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;Daily\&quot;,{indent:true});msg.write(\&quot;\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;18:00\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;Fischst\\xE4bchen, Spinat &amp; Ei\&quot;,{indent:true});msg.write(\&quot;\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;20:00\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;Sandm\\xE4nnchen\&quot;,{indent:true});assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# 1 3 : 0 0   D A I L Y                        #\\n#                                              #\\n# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n#             S P I N A T   &amp;   E I            #\\n#                                              #\\n# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2943481-200d-4545-97c0-8f9b2bc653a3&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Rindfleisch\&quot;).write(\&quot;etikettierungs\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;ueberwachungs\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;aufgaben\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;uebertragungs\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;gesetz\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;(das)\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# R I N D F L E I S C H                        #\\n# E T I K E T T I E R U N G S                  #\\n# U E B E R W A C H U N G S A U F G A B E N    #\\n# U E B E R T R A G U N G S G E S E T Z        #\\n# ( D A S )                                    #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88395049-c9f5-4414-9ad2-4be0cdc387e7&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message().write(\&quot;Hello\\nWorld\&quot;).toString(),\&quot;#==============================================#\\n# H E L L O                                    #\\n# W O R L D                                    #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:0}).toString(),\&quot;#==============================================#\\n# H   L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:null}).toString(),\&quot;#==============================================#\\n# H L L O   W O R L D                          #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7d3241e-08ec-481c-aca5-3763e94885ac&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;).toString(),\&quot;#==============================================#\\n# H ? L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:0}).toString(),\&quot;#==============================================#\\n# H   L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:null}).toString(),\&quot;#==============================================#\\n# H L L O   W O R L D                          #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9bcac74-fd7f-46b4-bdf7-f3484ea5883e&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;\\u{1F4AA}\\u{1F3FC} Gym\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# G Y M                                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;748b3b0c-fa45-46f4-b29c-f22a052dd8a9&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.\&quot;);msg.write(\&quot;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.\&quot;);msg.write(\&quot;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\&quot;);msg.write(\&quot;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# L O R E M   I P S U M   D O L O R   S I T    #\\n# A M E T ,   C O N S E C T E T U R            #\\n# A D I P I S I C I   E L I T ,   S E D        #\\n# E I U S M O D   T E M P O R I N C I D U N T  #\\n# U T   L A B O R E   E T   D O L O R E        #\\n# M A G N A   A L I Q U A .   U T   E N I M    #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b641fcfa-d5e1-478d-87fd-8955bc3ad554&quot;,&quot;parentUUID&quot;:&quot;17467860-d913-47b0-a1ef-a58040f5482c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31371cf6-3b7b-4441-8877-c6810335e27e&quot;,&quot;b69da174-3e1f-45cf-9bb2-19a790dfea56&quot;,&quot;179fdc00-af4c-4296-a560-e39c05a0aa53&quot;,&quot;7a3f8c82-0328-425c-9b18-55c2c7fdf5fa&quot;,&quot;b2943481-200d-4545-97c0-8f9b2bc653a3&quot;,&quot;88395049-c9f5-4414-9ad2-4be0cdc387e7&quot;,&quot;a7d3241e-08ec-481c-aca5-3763e94885ac&quot;,&quot;f9bcac74-fd7f-46b4-bdf7-f3484ea5883e&quot;,&quot;748b3b0c-fa45-46f4-b29c-f22a052dd8a9&quot;,&quot;b641fcfa-d5e1-478d-87fd-8955bc3ad554&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7ad4470d-4c51-4743-ada1-5a77456b37ff&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;]]);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# N O W         D A I L Y                      #\\n#                                              #\\n# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f6e49c6-1d90-4241-842c-35536a8bed1d&quot;,&quot;parentUUID&quot;:&quot;7ad4470d-4c51-4743-ada1-5a77456b37ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Super Secret Meeting\&quot;],[\&quot;16:30\&quot;,\&quot;Awesome Presentation\&quot;]]);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# N O W       D A I L Y                        #\\n#                                              #\\n# 1 3 : 0 0   S U P E R   S E C R E T          #\\n#             M E E T I N G                    #\\n#                                              #\\n# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30f5fa6c-aba9-4fe0-801c-df3822f76344&quot;,&quot;parentUUID&quot;:&quot;7ad4470d-4c51-4743-ada1-5a77456b37ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\\n\&quot;);msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;]]);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# H E L L O   W O R L D                        #\\n#                                              #\\n# N O W         D A I L Y                      #\\n#                                              #\\n# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bea4e994-adb1-4083-9e1d-85aa81c59f32&quot;,&quot;parentUUID&quot;:&quot;7ad4470d-4c51-4743-ada1-5a77456b37ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;assert.throws(()=&gt;{msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;,\&quot;\\u{1F7E5}\&quot;]])},/Unable to render table: Row 1 has 3 entries, but first row has 2!/)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca14063a-e0f1-416b-808e-da26d61164bc&quot;,&quot;parentUUID&quot;:&quot;7ad4470d-4c51-4743-ada1-5a77456b37ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0f6e49c6-1d90-4241-842c-35536a8bed1d&quot;,&quot;30f5fa6c-aba9-4fe0-801c-df3822f76344&quot;,&quot;bea4e994-adb1-4083-9e1d-85aa81c59f32&quot;,&quot;ca14063a-e0f1-416b-808e-da26d61164bc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4f13c786-1e3b-4aa7-8b3b-e638dd2881b5&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;);msg.center();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f1231ef-39f4-421c-b267-4933ad009876&quot;,&quot;parentUUID&quot;:&quot;4f13c786-1e3b-4aa7-8b3b-e638dd2881b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\&quot;);msg.center();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e3414f9-990a-4b24-a0a1-ff74d9d2b6bb&quot;,&quot;parentUUID&quot;:&quot;4f13c786-1e3b-4aa7-8b3b-e638dd2881b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;,{position:{line:5,row:11}});msg.center();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac624e30-1495-4e09-a4f9-b4ec7ed21ae6&quot;,&quot;parentUUID&quot;:&quot;4f13c786-1e3b-4aa7-8b3b-e638dd2881b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8f1231ef-39f4-421c-b267-4933ad009876&quot;,&quot;2e3414f9-990a-4b24-a0a1-ff74d9d2b6bb&quot;,&quot;ac624e30-1495-4e09-a4f9-b4ec7ed21ae6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6d2b7905-f551-49cb-9518-18f880484eda&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9a981761-7297-484e-9224-aab5a8310ea0&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbd9ba4b-b3ee-48b0-b389-30fe56ae460b&quot;,&quot;parentUUID&quot;:&quot;9a981761-7297-484e-9224-aab5a8310ea0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;dbd9ba4b-b3ee-48b0-b389-30fe56ae460b&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;40005c01-e3c4-4b5a-9100-e34ab0fc8805&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9c23606f-cde3-4ae2-8c5d-1ed250a43c27&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const json={currentMessage:{layout:JSON.stringify(msg.toCharArray())}};const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://rw.vestaboard.com/\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Read-Write-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;json,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new ReadWriteAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,{fetch});const result=await api.getCurrentMessage();assert.deepStrictEqual(result.toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30c823c4-d7b8-4c70-a20d-2f36d6cccb79&quot;,&quot;parentUUID&quot;:&quot;9c23606f-cde3-4ae2-8c5d-1ed250a43c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16f99f27-4425-43e5-8e65-c35b8222861b&quot;,&quot;parentUUID&quot;:&quot;9c23606f-cde3-4ae2-8c5d-1ed250a43c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30c823c4-d7b8-4c70-a20d-2f36d6cccb79&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;16f99f27-4425-43e5-8e65-c35b8222861b&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;3cd35dee-fd66-47db-86ab-a0db5d7d9d8e&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://rw.vestaboard.com/\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Read-Write-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;},body:JSON.stringify(msg.toCharArray())});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({status:\&quot;ok\&quot;}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new ReadWriteAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,{fetch});await api.postMessage(msg)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81e9337e-2eeb-40b3-ae17-ce56e44b6be5&quot;,&quot;parentUUID&quot;:&quot;3cd35dee-fd66-47db-86ab-a0db5d7d9d8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bd8c4b2-7236-4a8e-8aaa-8306c55b8d48&quot;,&quot;parentUUID&quot;:&quot;3cd35dee-fd66-47db-86ab-a0db5d7d9d8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81e9337e-2eeb-40b3-ae17-ce56e44b6be5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;5bd8c4b2-7236-4a8e-8aaa-8306c55b8d48&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;2a3392cf-d7d1-46f6-9ece-0b14942f233a&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;94eba85b-75cd-45bd-9826-5ecd3872e54e&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const json={type:\&quot;installation\&quot;,_id:\&quot;f35032ce-fd2b-4afb-8a24-d71c8085303c\&quot;,_created:\&quot;1577829607582\&quot;,installation:{_id:\&quot;562038d1-6fdb-4ba5-ae8b-bc9ec882178d\&quot;}};const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://platform.vestaboard.com/viewer\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;json,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.getViewer();assert.deepStrictEqual(result,json)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4ca9013-ad4b-41e3-a3e3-f044aa4db86d&quot;,&quot;parentUUID&quot;:&quot;94eba85b-75cd-45bd-9826-5ecd3872e54e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31832f38-7bbb-4e3c-9b7f-b55e12e9771a&quot;,&quot;parentUUID&quot;:&quot;94eba85b-75cd-45bd-9826-5ecd3872e54e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a4ca9013-ad4b-41e3-a3e3-f044aa4db86d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;31832f38-7bbb-4e3c-9b7f-b55e12e9771a&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;a5f4ee7e-b389-409a-9617-3fe9f6b9d7bf&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const json={subscriptions:[{_id:\&quot;bc6412b3-3aa6-4684-8962-cd2876942c0d\&quot;,_created:\&quot;1577833654294\&quot;,installation:{_id:\&quot;fefb8778-9500-4522-b115-29c0dd13c402\&quot;,installable:{_id:\&quot;b629d7df-7ecb-4460-b51e-f87fa942f113\&quot;}},boards:[{_id:\&quot;a1e866f2-e77e-45d8-997a-2e3ebeff4961\&quot;}]}]};const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://platform.vestaboard.com/subscriptions\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;json,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.getSubscriptions();assert.deepStrictEqual(result,json)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be43cba9-0b9b-47f8-bf5f-67a44af13f2f&quot;,&quot;parentUUID&quot;:&quot;a5f4ee7e-b389-409a-9617-3fe9f6b9d7bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a11abe2-c9aa-40cc-8424-5612f4acffba&quot;,&quot;parentUUID&quot;:&quot;a5f4ee7e-b389-409a-9617-3fe9f6b9d7bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be43cba9-0b9b-47f8-bf5f-67a44af13f2f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;7a11abe2-c9aa-40cc-8424-5612f4acffba&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;f27f1c4c-59cb-4db8-a3ed-634837f2bbb4&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://platform.vestaboard.com/subscriptions/foo/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;},body:JSON.stringify({characters:msg.toCharArray()})});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({message:{id:\&quot;\&quot;,created:1}}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.postMessage(msg,\&quot;foo\&quot;);assert.deepStrictEqual(result,{message:{id:\&quot;\&quot;,created:1}})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a67ca5b5-45d9-4fa6-b454-11dfa1dc22e9&quot;,&quot;parentUUID&quot;:&quot;f27f1c4c-59cb-4db8-a3ed-634837f2bbb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch=__name(async(url,options)=&gt;{const msg=new Message(\&quot;Hello World\&quot;);assert.strictEqual(url,\&quot;https://platform.vestaboard.com/subscriptions/foo/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;},body:JSON.stringify({characters:msg.toCharArray()})});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({message:{id:\&quot;\&quot;,created:1}}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.postMessage(\&quot;Hello World\&quot;,[\&quot;foo\&quot;,\&quot;foo\&quot;]);assert.deepStrictEqual(result,[{message:{id:\&quot;\&quot;,created:1}},{message:{id:\&quot;\&quot;,created:1}}])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b13b8d3a-636f-45f6-9224-b6fea7e86a92&quot;,&quot;parentUUID&quot;:&quot;f27f1c4c-59cb-4db8-a3ed-634837f2bbb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9ffe5cb-5c2a-4ca0-8bb8-ec6ef9c09e07&quot;,&quot;parentUUID&quot;:&quot;f27f1c4c-59cb-4db8-a3ed-634837f2bbb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a67ca5b5-45d9-4fa6-b454-11dfa1dc22e9&quot;,&quot;b13b8d3a-636f-45f6-9224-b6fea7e86a92&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;e9ffe5cb-5c2a-4ca0-8bb8-ec6ef9c09e07&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;dee653d7-cb98-4d10-b07e-63b8aaadfaf2&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6b39e2ed-5c6e-42d4-ba40-3b0f592340e0&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://example.com/test\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({foo:\&quot;bar\&quot;}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const response=await request(\&quot;https://example.com/test\&quot;,{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;},void 0,{fetch});assert.deepStrictEqual(response,{foo:\&quot;bar\&quot;})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b794b087-9efa-4e9e-ae3f-4f57b2ebd0b8&quot;,&quot;parentUUID&quot;:&quot;6b39e2ed-5c6e-42d4-ba40-3b0f592340e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10012,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://example.com/test\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;}});return{ok:false,status:500,statusText:\&quot;ERROR\&quot;,json:__name(async()=&gt;\&quot;\&quot;,\&quot;json\&quot;)}},\&quot;fetch\&quot;);await assert.rejects(async()=&gt;{await request(\&quot;https://example.com/test\&quot;,{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;},void 0,{fetch})},/HTTP Request failed/)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bcd20e6-4801-4599-b65e-8321b3c2bed3&quot;,&quot;parentUUID&quot;:&quot;6b39e2ed-5c6e-42d4-ba40-3b0f592340e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b794b087-9efa-4e9e-ae3f-4f57b2ebd0b8&quot;,&quot;3bcd20e6-4801-4599-b65e-8321b3c2bed3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10013,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>