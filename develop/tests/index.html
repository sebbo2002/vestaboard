<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-08-20T12:55:41.651Z&quot;,&quot;end&quot;:&quot;2024-08-20T12:55:51.733Z&quot;,&quot;duration&quot;:10082,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;6a14f23d-5fcf-47a3-8c96-bd9cf9652041&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6e7c0080-77eb-4697-a23a-2e9c20878b7e&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d754c43b-1b72-4923-beed-7b9359d89be8&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n        }\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; ({\n            message: msg.toCharArray()\n        })\n    };\n};\nconst api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\nconst result = await api.getCurrentMessage();\nassert.deepStrictEqual(result.toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89caf451-c116-47e8-8cb5-ac67a027bba2&quot;,&quot;parentUUID&quot;:&quot;d754c43b-1b72-4923-beed-7b9359d89be8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n        }\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; msg.toCharArray()\n    };\n};\nconst api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\nconst result = await api.getCurrentMessage();\nassert.deepStrictEqual(result.toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2424883e-e238-4a64-8aa7-18322857e56f&quot;,&quot;parentUUID&quot;:&quot;d754c43b-1b72-4923-beed-7b9359d89be8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70b1cd34-1772-4aff-96b1-08bbe9506135&quot;,&quot;parentUUID&quot;:&quot;d754c43b-1b72-4923-beed-7b9359d89be8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;89caf451-c116-47e8-8cb5-ac67a027bba2&quot;,&quot;2424883e-e238-4a64-8aa7-18322857e56f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;70b1cd34-1772-4aff-96b1-08bbe9506135&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;ae747e6d-24c3-4f64-86c4-865ff14e8f0a&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message(&#x27;Hello World&#x27;);\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;POST&#x27;,\n        headers: {\n            &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n            &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n        },\n        body: JSON.stringify(msg.toCharArray())\n    });\n    return {\n        ok: true,\n        status: 201,\n        statusText: &#x27;CREATED&#x27;,\n        json: async () =&gt; (&#x27;&#x27;)\n    };\n};\nconst api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\nawait api.postMessage(&#x27;Hello World&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49faa50f-306e-4b79-83fe-d9c6d68a45f2&quot;,&quot;parentUUID&quot;:&quot;ae747e6d-24c3-4f64-86c4-865ff14e8f0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bf8d839-575b-4e92-8810-0d89d0837edf&quot;,&quot;parentUUID&quot;:&quot;ae747e6d-24c3-4f64-86c4-865ff14e8f0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49faa50f-306e-4b79-83fe-d9c6d68a45f2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;6bf8d839-575b-4e92-8810-0d89d0837edf&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;817a1e73-fcfe-441e-a2a6-6e18372a4f9d&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4212d176-45f8-4b40-820c-c77e70fd1740&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(&#x27;Hello World&#x27;).toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99eec28f-6b63-40e0-b29d-15d6980eb739&quot;,&quot;parentUUID&quot;:&quot;4212d176-45f8-4b40-820c-c77e70fd1740&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª &#x27;);\nassert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb8892b7-baf9-4506-82cb-e5ed27397dd5&quot;,&quot;parentUUID&quot;:&quot;4212d176-45f8-4b40-820c-c77e70fd1740&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99eec28f-6b63-40e0-b29d-15d6980eb739&quot;,&quot;bb8892b7-baf9-4506-82cb-e5ed27397dd5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;50681898-a1b4-4cfd-b44f-b059c2546c31&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello&#x27;), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15bfc18c-bf71-4bf2-8a71-91d101f811e0&quot;,&quot;parentUUID&quot;:&quot;50681898-a1b4-4cfd-b44f-b059c2546c31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;KÃ¤se&#x27;), [11, 1, 5, 19, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7741f501-d1d3-4c4a-a570-f3141acdcdc5&quot;,&quot;parentUUID&quot;:&quot;50681898-a1b4-4cfd-b44f-b059c2546c31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªâ¬œâ¬›&#x27;), [63, 64, 65, 66, 67, 68, 69, 0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1ffe0ce-f79f-4104-b8ba-95b1b0d939d6&quot;,&quot;parentUUID&quot;:&quot;50681898-a1b4-4cfd-b44f-b059c2546c31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;, { fallbackChar: null }), [8, 12, 12, 15]);\nassert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;), [8, 60, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84f3adff-9c6d-4ab0-aa23-f5fb0a32dfa6&quot;,&quot;parentUUID&quot;:&quot;50681898-a1b4-4cfd-b44f-b059c2546c31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text = &#x27;&#x27;;\nconst result = [];\nCHAR_MAP.forEach(([str, chars]) =&gt; {\n    // assert.strictEqual(char.length, 1, `Char \&quot;${char}\&quot; has a length of ${char.length}`);\n    const actual = Message.string2chars(str, { removeUnsupportedWords: false });\n    const expected = chars.length !== 1 || chars[0] !== -2 ? chars : [0];\n    assert.deepStrictEqual(actual, expected, `Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);\n    text += str;\n    result.push(...expected);\n});\nassert.deepStrictEqual(Message.string2chars(text, { removeUnsupportedWords: false }), result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e66492a-ae02-408d-95ad-db68dbd15d46&quot;,&quot;parentUUID&quot;:&quot;50681898-a1b4-4cfd-b44f-b059c2546c31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;15bfc18c-bf71-4bf2-8a71-91d101f811e0&quot;,&quot;7741f501-d1d3-4c4a-a570-f3141acdcdc5&quot;,&quot;a1ffe0ce-f79f-4104-b8ba-95b1b0d939d6&quot;,&quot;84f3adff-9c6d-4ab0-aa23-f5fb0a32dfa6&quot;,&quot;9e66492a-ae02-408d-95ad-db68dbd15d46&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3f0b7e67-eaad-4b6d-9b33-fee6a84737a3&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        0,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0b8e6e3-de17-4f49-b519-2765e8612f01&quot;,&quot;parentUUID&quot;:&quot;3f0b7e67-eaad-4b6d-9b33-fee6a84737a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello-World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a7e8d4c-f0a6-4bcb-9364-5366579ef96f&quot;,&quot;parentUUID&quot;:&quot;3f0b7e67-eaad-4b6d-9b33-fee6a84737a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        18,\n        9,\n        14,\n        4,\n        6,\n        12,\n        5,\n        9,\n        19,\n        3,\n        8,\n        5,\n        20,\n        9,\n        11,\n        5,\n        20,\n        20,\n        9,\n        5,\n        18,\n        44\n    ],\n    [\n        21,\n        14,\n        7,\n        19,\n        21,\n        5,\n        2,\n        5,\n        18,\n        23,\n        1,\n        3,\n        8,\n        21,\n        14,\n        7,\n        19,\n        1,\n        21,\n        6,\n        7,\n        44\n    ],\n    [\n        1,\n        2,\n        5,\n        14,\n        21,\n        5,\n        2,\n        5,\n        18,\n        20,\n        18,\n        1,\n        7,\n        21,\n        14,\n        7,\n        19,\n        7,\n        5,\n        19,\n        5,\n        44,\n    ],\n    [\n        20,\n        26\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13f3f1d9-d842-4c8c-872f-a828c69be3cc&quot;,&quot;parentUUID&quot;:&quot;3f0b7e67-eaad-4b6d-9b33-fee6a84737a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c0b8e6e3-de17-4f49-b519-2765e8612f01&quot;,&quot;5a7e8d4c-f0a6-4bcb-9364-5366579ef96f&quot;,&quot;13f3f1d9-d842-4c8c-872f-a828c69be3cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f7a6fddf-b130-43b7-bfc1-1e8524734a7a&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello World&#x27;), [\n    8,\n    5,\n    12,\n    12,\n    15,\n    0,\n    23,\n    15,\n    18,\n    12,\n    4\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e7f4052-8584-4e23-a967-06500a102d97&quot;,&quot;parentUUID&quot;:&quot;f7a6fddf-b130-43b7-bfc1-1e8524734a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼Hello&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼ Hello&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;434865c6-4f8b-4fc0-9426-42ff4a725b6a&quot;,&quot;parentUUID&quot;:&quot;f7a6fddf-b130-43b7-bfc1-1e8524734a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;HelloðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;233b0cf9-35e4-4983-9cd8-6ac1623e8a8b&quot;,&quot;parentUUID&quot;:&quot;f7a6fddf-b130-43b7-bfc1-1e8524734a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼ðŸ‘‹ðŸ¼ World&#x27;)), [8, 5, 12, 12, 15, 0, 23, 15, 18, 12, 4]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c93da9f-50a5-41a7-92fc-7e2e695cf3f2&quot;,&quot;parentUUID&quot;:&quot;f7a6fddf-b130-43b7-bfc1-1e8524734a7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5e7f4052-8584-4e23-a967-06500a102d97&quot;,&quot;434865c6-4f8b-4fc0-9426-42ff4a725b6a&quot;,&quot;233b0cf9-35e4-4983-9cd8-6ac1623e8a8b&quot;,&quot;0c93da9f-50a5-41a7-92fc-7e2e695cf3f2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f20e4a5c-dba5-43db-9410-4f60acf894a8&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]), [6, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41be3297-2266-4e9b-ada0-1a6c8f706e48&quot;,&quot;parentUUID&quot;:&quot;f20e4a5c-dba5-43db-9410-4f60acf894a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]), []);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b96645a-ecb9-4736-a376-92f341ab769c&quot;,&quot;parentUUID&quot;:&quot;f20e4a5c-dba5-43db-9410-4f60acf894a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;Daily&#x27;],\n    [&#x27;Secret Meeting&#x27;]\n]), [22]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c05a5e2-cd06-4106-90de-f24e742c4111&quot;,&quot;parentUUID&quot;:&quot;f20e4a5c-dba5-43db-9410-4f60acf894a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;]\n]), [5, 16]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4280dc5f-f827-4056-a800-ce6a4a23848f&quot;,&quot;parentUUID&quot;:&quot;f20e4a5c-dba5-43db-9410-4f60acf894a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(() =&gt; {\n    new Message().table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e487916-3077-4055-b5a4-e077fdf9363d&quot;,&quot;parentUUID&quot;:&quot;f20e4a5c-dba5-43db-9410-4f60acf894a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41be3297-2266-4e9b-ada0-1a6c8f706e48&quot;,&quot;4b96645a-ecb9-4736-a376-92f341ab769c&quot;,&quot;6c05a5e2-cd06-4106-90de-f24e742c4111&quot;,&quot;4280dc5f-f827-4056-a800-ce6a4a23848f&quot;,&quot;3e487916-3077-4055-b5a4-e077fdf9363d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cd0c29d5-8ad3-47ca-8b92-e1f8a31a6095&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.fill();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8ea7847-98a1-476d-bbe1-f0950ccba261&quot;,&quot;parentUUID&quot;:&quot;cd0c29d5-8ad3-47ca-8b92-e1f8a31a6095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a182262a-a099-4ade-9cd8-60d7c1dbf494&quot;,&quot;parentUUID&quot;:&quot;cd0c29d5-8ad3-47ca-8b92-e1f8a31a6095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c7b6d04-a2fa-48e3-893e-a521b30b244d&quot;,&quot;parentUUID&quot;:&quot;cd0c29d5-8ad3-47ca-8b92-e1f8a31a6095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d8ea7847-98a1-476d-bbe1-f0950ccba261&quot;,&quot;a182262a-a099-4ade-9cd8-60d7c1dbf494&quot;,&quot;1c7b6d04-a2fa-48e3-893e-a521b30b244d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5110e1f-2cd9-4ad4-af17-d469180cfac4&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 2,\n        row: 5\n    }\n});\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0813aff9-d509-4a4b-b5a7-c3b8fd9728ab&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, &#x27; +\n    &#x27;consetetur sadipscing elitr, sed &#x27; +\n    &#x27;diam nonumy eirmod tempor invidunt&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E T E T U R              #\\n&#x27; +\n    &#x27;# S A D I P S C I N G   E L I T R ,   S E D    #\\n&#x27; +\n    &#x27;# D I A M   N O N U M Y   E I R M O D          #\\n&#x27; +\n    &#x27;# T E M P O R   I N V I D U N T                #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;254ea2f3-f708-4b70-9fc9-efa7e39c36f7&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem-ipsum-dolor-sit-amet&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M - I P S U M - D O L O R - S I T -  #\\n&#x27; +\n    &#x27;# A M E T                                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d77eb5fa-36e9-4b55-8eb0-ad9a9390b26e&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;13:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Daily&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;18:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;FischstÃ¤bchen, Spinat &amp; Ei&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;20:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;SandmÃ¤nnchen&#x27;, { indent: true });\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 1 3 : 0 0   D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n&#x27; +\n    &#x27;#             S P I N A T   &amp;   E I            #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98e8e665-712f-4801-a845-92ab8415f3fd&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Rindfleisch&#x27;)\n    .write(&#x27;etikettierungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;ueberwachungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;aufgaben&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;uebertragungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;gesetz&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;(das)&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# R I N D F L E I S C H                        #\\n&#x27; +\n    &#x27;# E T I K E T T I E R U N G S                  #\\n&#x27; +\n    &#x27;# U E B E R W A C H U N G S A U F G A B E N    #\\n&#x27; +\n    &#x27;# U E B E R T R A G U N G S G E S E T Z        #\\n&#x27; +\n    &#x27;# ( D A S )                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24213fba-0ea3-4338-a7e9-2ed008ff2c7f&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hello\\nWorld&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O                                    #\\n&#x27; +\n    &#x27;# W O R L D                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74a2b40a-85a6-4e0d-a003-d9c4f226680e&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H ? L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7e24cc6-2055-4f22-9287-9e134688c5a1&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;ðŸ’ªðŸ¼ Gym&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# G Y M                                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9242a1e-41e5-487c-a126-6659d06b1b0a&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.&#x27;);\nmsg.write(&#x27;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.&#x27;);\nmsg.write(&#x27;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&#x27;);\nmsg.write(&#x27;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E C T E T U R            #\\n&#x27; +\n    &#x27;# A D I P I S I C I   E L I T ,   S E D        #\\n&#x27; +\n    &#x27;# E I U S M O D   T E M P O R I N C I D U N T  #\\n&#x27; +\n    &#x27;# U T   L A B O R E   E T   D O L O R E        #\\n&#x27; +\n    &#x27;# M A G N A   A L I Q U A .   U T   E N I M    #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a57e05d8-6b33-409d-958f-94ab0fc13966&quot;,&quot;parentUUID&quot;:&quot;e26f6803-de4d-4698-953f-82e328c754e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d5110e1f-2cd9-4ad4-af17-d469180cfac4&quot;,&quot;0813aff9-d509-4a4b-b5a7-c3b8fd9728ab&quot;,&quot;254ea2f3-f708-4b70-9fc9-efa7e39c36f7&quot;,&quot;d77eb5fa-36e9-4b55-8eb0-ad9a9390b26e&quot;,&quot;98e8e665-712f-4801-a845-92ab8415f3fd&quot;,&quot;24213fba-0ea3-4338-a7e9-2ed008ff2c7f&quot;,&quot;74a2b40a-85a6-4e0d-a003-d9c4f226680e&quot;,&quot;e7e24cc6-2055-4f22-9287-9e134688c5a1&quot;,&quot;b9242a1e-41e5-487c-a126-6659d06b1b0a&quot;,&quot;a57e05d8-6b33-409d-958f-94ab0fc13966&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;60abebcf-81bb-4d89-b66a-29801d3f85d7&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8454d20d-2509-4f53-93fa-54189fcb1949&quot;,&quot;parentUUID&quot;:&quot;60abebcf-81bb-4d89-b66a-29801d3f85d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;],\n    [&#x27;16:30&#x27;, &#x27;Awesome Presentation&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W       D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0   S U P E R   S E C R E T          #\\n&#x27; +\n    &#x27;#             M E E T I N G                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44778b76-ccf3-4e01-87cc-c64bd824d78c&quot;,&quot;parentUUID&quot;:&quot;60abebcf-81bb-4d89-b66a-29801d3f85d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World\\n&#x27;);\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eaaec425-9b4a-4747-b928-95a7dc07ec3e&quot;,&quot;parentUUID&quot;:&quot;60abebcf-81bb-4d89-b66a-29801d3f85d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nassert.throws(() =&gt; {\n    msg.table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e22d87d6-1b5e-45f5-b9a1-0a0e7b51368d&quot;,&quot;parentUUID&quot;:&quot;60abebcf-81bb-4d89-b66a-29801d3f85d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8454d20d-2509-4f53-93fa-54189fcb1949&quot;,&quot;44778b76-ccf3-4e01-87cc-c64bd824d78c&quot;,&quot;eaaec425-9b4a-4747-b928-95a7dc07ec3e&quot;,&quot;e22d87d6-1b5e-45f5-b9a1-0a0e7b51368d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2ec8d5a2-b976-43a7-a926-054aceb84bfd&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c4ef69e-1941-492a-ad15-04d4da55c969&quot;,&quot;parentUUID&quot;:&quot;2ec8d5a2-b976-43a7-a926-054aceb84bfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eafd39ca-d424-4e31-813e-71f16c963625&quot;,&quot;parentUUID&quot;:&quot;2ec8d5a2-b976-43a7-a926-054aceb84bfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 5,\n        row: 11\n    }\n});\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;230dace5-7e4a-4791-8657-1c420ef5544a&quot;,&quot;parentUUID&quot;:&quot;2ec8d5a2-b976-43a7-a926-054aceb84bfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5c4ef69e-1941-492a-ad15-04d4da55c969&quot;,&quot;eafd39ca-d424-4e31-813e-71f16c963625&quot;,&quot;230dace5-7e4a-4791-8657-1c420ef5544a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3c317a41-d83b-4f71-96cb-57fb5c98c32a&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;88070b3f-1eb9-43ea-a44d-4c22c2c7a635&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66c870bd-5bfe-4392-ac4c-aeea5728a20d&quot;,&quot;parentUUID&quot;:&quot;88070b3f-1eb9-43ea-a44d-4c22c2c7a635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;66c870bd-5bfe-4392-ac4c-aeea5728a20d&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;5ecc1603-1ce6-4d23-9a71-c66a9d8f891f&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;82b1f388-7b58-459f-8b7a-446d8d4f18f7&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nconst json = {\n    currentMessage: {\n        layout: JSON.stringify(msg.toCharArray())\n    }\n};\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n        }\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; json\n    };\n};\nconst api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\nconst result = await api.getCurrentMessage();\nassert.deepStrictEqual(result.toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4c21365-834d-4a36-a3ad-c16b30d82a2d&quot;,&quot;parentUUID&quot;:&quot;82b1f388-7b58-459f-8b7a-446d8d4f18f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1875ff71-cd32-447a-a268-4ad0d2fe9424&quot;,&quot;parentUUID&quot;:&quot;82b1f388-7b58-459f-8b7a-446d8d4f18f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e4c21365-834d-4a36-a3ad-c16b30d82a2d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;1875ff71-cd32-447a-a268-4ad0d2fe9424&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;459b5096-a304-46c0-b907-4d52c867e96b&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;POST&#x27;,\n        headers: {\n            &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n            &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n        },\n        body: JSON.stringify(msg.toCharArray())\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; ({\n            status: &#x27;ok&#x27;\n        })\n    };\n};\nconst api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\nawait api.postMessage(msg);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d76c6f2-6e28-4e60-9242-a170edb44de6&quot;,&quot;parentUUID&quot;:&quot;459b5096-a304-46c0-b907-4d52c867e96b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ad1dfbc-a001-41cb-a02e-fd6203d925be&quot;,&quot;parentUUID&quot;:&quot;459b5096-a304-46c0-b907-4d52c867e96b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5d76c6f2-6e28-4e60-9242-a170edb44de6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;7ad1dfbc-a001-41cb-a02e-fd6203d925be&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;62384bd6-6f0b-43ee-9db8-82a4462a815b&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4082c51d-e470-4429-b648-cb02b6be164a&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nconst json = {\n    type: &#x27;installation&#x27;,\n    _id: &#x27;f35032ce-fd2b-4afb-8a24-d71c8085303c&#x27;,\n    _created: &#x27;1577829607582&#x27;,\n    installation: {\n        _id: &#x27;562038d1-6fdb-4ba5-ae8b-bc9ec882178d&#x27;\n    }\n};\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://platform.vestaboard.com/viewer&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n            &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n        }\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; json\n    };\n};\nconst api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\nconst result = await api.getViewer();\nassert.deepStrictEqual(result, json);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;697ca577-0b8d-4301-a960-9ee8a6332e98&quot;,&quot;parentUUID&quot;:&quot;4082c51d-e470-4429-b648-cb02b6be164a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09ead26c-e693-468c-92bb-6e7402649b3a&quot;,&quot;parentUUID&quot;:&quot;4082c51d-e470-4429-b648-cb02b6be164a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;697ca577-0b8d-4301-a960-9ee8a6332e98&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;09ead26c-e693-468c-92bb-6e7402649b3a&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;1a19694f-51e1-45d8-b58b-989c2569389e&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const json = {\n    subscriptions: [\n        {\n            _id: &#x27;bc6412b3-3aa6-4684-8962-cd2876942c0d&#x27;,\n            _created: &#x27;1577833654294&#x27;,\n            installation: {\n                _id: &#x27;fefb8778-9500-4522-b115-29c0dd13c402&#x27;,\n                installable: {\n                    _id: &#x27;b629d7df-7ecb-4460-b51e-f87fa942f113&#x27;\n                }\n            },\n            boards: [{\n                    _id: &#x27;a1e866f2-e77e-45d8-997a-2e3ebeff4961&#x27;\n                }]\n        }\n    ]\n};\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n            &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n        }\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; json\n    };\n};\nconst api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\nconst result = await api.getSubscriptions();\nassert.deepStrictEqual(result, json);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d57046df-f220-494b-8dd8-0a9c8d5d8362&quot;,&quot;parentUUID&quot;:&quot;1a19694f-51e1-45d8-b58b-989c2569389e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7eb207cf-fcd7-49b3-8e01-6e6953924176&quot;,&quot;parentUUID&quot;:&quot;1a19694f-51e1-45d8-b58b-989c2569389e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d57046df-f220-494b-8dd8-0a9c8d5d8362&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;7eb207cf-fcd7-49b3-8e01-6e6953924176&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;5368344a-bf25-4eb6-b24a-c6d3e1ea1a22&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nconst fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;POST&#x27;,\n        headers: {\n            &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n            &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n            &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n        },\n        body: JSON.stringify({ characters: msg.toCharArray() })\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; ({\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        })\n    };\n};\nconst api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\nconst result = await api.postMessage(msg, &#x27;foo&#x27;);\nassert.deepStrictEqual(result, {\n    message: {\n        id: &#x27;&#x27;,\n        created: 1\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee632a70-fc42-41c8-ab1e-e620613a0ac9&quot;,&quot;parentUUID&quot;:&quot;5368344a-bf25-4eb6-b24a-c6d3e1ea1a22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch = async (url, options) =&gt; {\n    const msg = new Message(&#x27;Hello World&#x27;);\n    assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;POST&#x27;,\n        headers: {\n            &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n            &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n            &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n        },\n        body: JSON.stringify({ characters: msg.toCharArray() })\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; ({\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        })\n    };\n};\nconst api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\nconst result = await api.postMessage(&#x27;Hello World&#x27;, [&#x27;foo&#x27;, &#x27;foo&#x27;]);\nassert.deepStrictEqual(result, [\n    {\n        message: {\n            id: &#x27;&#x27;,\n            created: 1\n        }\n    },\n    {\n        message: {\n            id: &#x27;&#x27;,\n            created: 1\n        }\n    }\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d26fc1bc-a98a-4f7c-ad91-68de56a80785&quot;,&quot;parentUUID&quot;:&quot;5368344a-bf25-4eb6-b24a-c6d3e1ea1a22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0b711f8-8713-4906-9345-3c80d79ca07d&quot;,&quot;parentUUID&quot;:&quot;5368344a-bf25-4eb6-b24a-c6d3e1ea1a22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ee632a70-fc42-41c8-ab1e-e620613a0ac9&quot;,&quot;d26fc1bc-a98a-4f7c-ad91-68de56a80785&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;b0b711f8-8713-4906-9345-3c80d79ca07d&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;c3fae635-9a3d-49aa-81f2-d363b245f4a4&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6bc3675f-ab58-40fa-b13f-db1f3cd41557&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n        }\n    });\n    return {\n        ok: true,\n        status: 200,\n        statusText: &#x27;OK&#x27;,\n        json: async () =&gt; ({ foo: &#x27;bar&#x27; })\n    };\n};\nconst response = await request(&#x27;https://example.com/test&#x27;, {\n    &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n}, undefined, { fetch });\nassert.deepStrictEqual(response, { foo: &#x27;bar&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6046952f-c45d-4455-be6a-df7660658f0c&quot;,&quot;parentUUID&quot;:&quot;6bc3675f-ab58-40fa-b13f-db1f3cd41557&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10010,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch = async (url, options) =&gt; {\n    assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n    assert.deepStrictEqual(options, {\n        method: &#x27;GET&#x27;,\n        headers: {\n            &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n        }\n    });\n    return {\n        ok: false,\n        status: 500,\n        statusText: &#x27;ERROR&#x27;,\n        json: async () =&gt; (&#x27;&#x27;)\n    };\n};\nawait assert.rejects(async () =&gt; {\n    await request(&#x27;https://example.com/test&#x27;, {\n        &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n    }, undefined, { fetch });\n}, /HTTP Request failed/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5abe4687-c4ac-486e-9566-4b7e81027c7c&quot;,&quot;parentUUID&quot;:&quot;6bc3675f-ab58-40fa-b13f-db1f3cd41557&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6046952f-c45d-4455-be6a-df7660658f0c&quot;,&quot;5abe4687-c4ac-486e-9566-4b7e81027c7c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10010,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.7.3&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>