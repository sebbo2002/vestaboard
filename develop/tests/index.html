<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-11-28T19:05:41.120Z&quot;,&quot;end&quot;:&quot;2024-11-28T19:05:51.208Z&quot;,&quot;duration&quot;:10088,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;dfa2d0df-31a4-4aef-8540-b694539af94e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;478e6ba9-fb4f-4af2-9500-b8941055160c&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;07b5a6b9-e71b-47ff-a8db-25bd04f70b36&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;http://vestaboard.local:7000/local-api/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Local-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({message:msg.toCharArray()}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new LocalAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,void 0,{fetch});const result=await api.getCurrentMessage();assert.deepStrictEqual(result.toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;285ec30f-e379-43bd-bc04-8eae9f9d1a14&quot;,&quot;parentUUID&quot;:&quot;07b5a6b9-e71b-47ff-a8db-25bd04f70b36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;http://vestaboard.local:7000/local-api/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Local-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;msg.toCharArray(),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new LocalAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,void 0,{fetch});const result=await api.getCurrentMessage();assert.deepStrictEqual(result.toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cc176ff-f488-4fc4-aede-bd3911df1050&quot;,&quot;parentUUID&quot;:&quot;07b5a6b9-e71b-47ff-a8db-25bd04f70b36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91565273-96b6-4956-b990-27a38589da4a&quot;,&quot;parentUUID&quot;:&quot;07b5a6b9-e71b-47ff-a8db-25bd04f70b36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;285ec30f-e379-43bd-bc04-8eae9f9d1a14&quot;,&quot;9cc176ff-f488-4fc4-aede-bd3911df1050&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;91565273-96b6-4956-b990-27a38589da4a&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;66f615d4-c04a-4182-9f35-4a5513ea3fb9&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message(\&quot;Hello World\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;http://vestaboard.local:7000/local-api/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Local-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;},body:JSON.stringify(msg.toCharArray())});return{ok:true,status:201,statusText:\&quot;CREATED\&quot;,json:__name(async()=&gt;\&quot;\&quot;,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new LocalAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,void 0,{fetch});await api.postMessage(\&quot;Hello World\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd3db90c-0c21-4785-971d-cd2fcb507746&quot;,&quot;parentUUID&quot;:&quot;66f615d4-c04a-4182-9f35-4a5513ea3fb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc749cfb-0571-4e29-8753-3815e8e099b2&quot;,&quot;parentUUID&quot;:&quot;66f615d4-c04a-4182-9f35-4a5513ea3fb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd3db90c-0c21-4785-971d-cd2fcb507746&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;dc749cfb-0571-4e29-8753-3815e8e099b2&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;1416c2b2-8542-421a-a622-3ced012c4db8&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8f1ee866-d1d3-4a36-aee6-871f810289c1&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(\&quot;Hello World\&quot;).toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66dd3a17-5116-43ab-85f1-07570f00f8af&quot;,&quot;parentUUID&quot;:&quot;8f1ee866-d1d3-4a36-aee6-871f810289c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA} \&quot;);assert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6837cb7-7590-49d0-bb67-0691747a2a02&quot;,&quot;parentUUID&quot;:&quot;8f1ee866-d1d3-4a36-aee6-871f810289c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;66dd3a17-5116-43ab-85f1-07570f00f8af&quot;,&quot;f6837cb7-7590-49d0-bb67-0691747a2a02&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;500b04f0-972c-46ad-bb0d-86de90720554&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;Hello\&quot;),[8,5,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e894f9a-aecb-41e0-bdc0-265b6b0a9fc3&quot;,&quot;parentUUID&quot;:&quot;500b04f0-972c-46ad-bb0d-86de90720554&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;K\\xE4se\&quot;),[11,1,5,19,5])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0132413-db8c-4ae3-9fc3-7e9f07658455&quot;,&quot;parentUUID&quot;:&quot;500b04f0-972c-46ad-bb0d-86de90720554&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u2B1C\\u2B1B\&quot;),[63,64,65,66,67,68,69,0])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;595938da-7742-4193-b046-a46ff4279012&quot;,&quot;parentUUID&quot;:&quot;500b04f0-972c-46ad-bb0d-86de90720554&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;H\\u2377llo\&quot;,{fallbackChar:null}),[8,12,12,15]);assert.deepStrictEqual(Message.string2chars(\&quot;H\\u2377llo\&quot;),[8,60,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab06db95-b4bb-4675-a42b-de86037badfa&quot;,&quot;parentUUID&quot;:&quot;500b04f0-972c-46ad-bb0d-86de90720554&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text=\&quot;\&quot;;const result=[];CHAR_MAP.forEach(([str,chars])=&gt;{const actual=Message.string2chars(str,{removeUnsupportedWords:false});const expected=chars.length!==1||chars[0]!==-2?chars:[0];assert.deepStrictEqual(actual,expected,`Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);text+=str;result.push(...expected)});assert.deepStrictEqual(Message.string2chars(text,{removeUnsupportedWords:false}),result)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36c26e84-c100-4106-83fc-fd1b646a00e6&quot;,&quot;parentUUID&quot;:&quot;500b04f0-972c-46ad-bb0d-86de90720554&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8e894f9a-aecb-41e0-bdc0-265b6b0a9fc3&quot;,&quot;f0132413-db8c-4ae3-9fc3-7e9f07658455&quot;,&quot;595938da-7742-4193-b046-a46ff4279012&quot;,&quot;ab06db95-b4bb-4675-a42b-de86037badfa&quot;,&quot;36c26e84-c100-4106-83fc-fd1b646a00e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;098eabd7-eed4-438e-a7a5-01668afd7abf&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars=Message.string2chars(\&quot;Hello World\&quot;);assert.deepEqual(Message.splitCharsIntoLines(chars,[22,22]),[[8,5,12,12,15,0,23,15,18,12,4]]);assert.deepEqual(Message.splitCharsIntoLines(chars,[8,8]),[[8,5,12,12,15],[23,15,18,12,4]])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f27a5f96-b64b-457b-a15b-8ac67e51726d&quot;,&quot;parentUUID&quot;:&quot;098eabd7-eed4-438e-a7a5-01668afd7abf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars=Message.string2chars(\&quot;Hello-World\&quot;);assert.deepEqual(Message.splitCharsIntoLines(chars,[22,22]),[[8,5,12,12,15,44,23,15,18,12,4]]);assert.deepEqual(Message.splitCharsIntoLines(chars,[8,8]),[[8,5,12,12,15,44],[23,15,18,12,4]])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;566375fc-125e-4224-b5de-85f8e8a2ae35&quot;,&quot;parentUUID&quot;:&quot;098eabd7-eed4-438e-a7a5-01668afd7abf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars=Message.string2chars(\&quot;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz\&quot;);assert.deepEqual(Message.splitCharsIntoLines(chars,[22,22]),[[18,9,14,4,6,12,5,9,19,3,8,5,20,9,11,5,20,20,9,5,18,44],[21,14,7,19,21,5,2,5,18,23,1,3,8,21,14,7,19,1,21,6,7,44],[1,2,5,14,21,5,2,5,18,20,18,1,7,21,14,7,19,7,5,19,5,44],[20,26]])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed0d7193-313c-4760-b85a-c88bfb6161eb&quot;,&quot;parentUUID&quot;:&quot;098eabd7-eed4-438e-a7a5-01668afd7abf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f27a5f96-b64b-457b-a15b-8ac67e51726d&quot;,&quot;566375fc-125e-4224-b5de-85f8e8a2ae35&quot;,&quot;ed0d7193-313c-4760-b85a-c88bfb6161eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1bc0f01f-79dc-434b-b201-2cda093862d8&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(\&quot;Hello World\&quot;),[8,5,12,12,15,0,23,15,18,12,4])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9c552d6-b11b-465e-b803-a19ba8818e70&quot;,&quot;parentUUID&quot;:&quot;1bc0f01f-79dc-434b-b201-2cda093862d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;\\u{1F44B}\\u{1F3FC}Hello\&quot;)),[8,5,12,12,15]);assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;\\u{1F44B}\\u{1F3FC} Hello\&quot;)),[8,5,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13a5fbda-4668-47db-afce-95bbe4e28a18&quot;,&quot;parentUUID&quot;:&quot;1bc0f01f-79dc-434b-b201-2cda093862d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;Hello\\u{1F44B}\\u{1F3FC}\&quot;)),[8,5,12,12,15]);assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;Hello \\u{1F44B}\\u{1F3FC}\&quot;)),[8,5,12,12,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2121a9a7-6c18-4f6a-8dd2-39668ef1ab4d&quot;,&quot;parentUUID&quot;:&quot;1bc0f01f-79dc-434b-b201-2cda093862d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(\&quot;Hello \\u{1F44B}\\u{1F3FC}\\u{1F44B}\\u{1F3FC} World\&quot;)),[8,5,12,12,15,0,23,15,18,12,4])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1449d549-8ecf-4fd4-b083-2585298ba6aa&quot;,&quot;parentUUID&quot;:&quot;1bc0f01f-79dc-434b-b201-2cda093862d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a9c552d6-b11b-465e-b803-a19ba8818e70&quot;,&quot;13a5fbda-4668-47db-afce-95bbe4e28a18&quot;,&quot;2121a9a7-6c18-4f6a-8dd2-39668ef1ab4d&quot;,&quot;1449d549-8ecf-4fd4-b083-2585298ba6aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a57d09a7-b13b-42d3-870e-45a1051553fe&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;]]),[6,15])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96481d5d-f656-4c4b-84af-54d0d2e57ec3&quot;,&quot;parentUUID&quot;:&quot;a57d09a7-b13b-42d3-870e-45a1051553fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]),[])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ac487ba-178b-4df0-8069-2547e5784460&quot;,&quot;parentUUID&quot;:&quot;a57d09a7-b13b-42d3-870e-45a1051553fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([[\&quot;Daily\&quot;],[\&quot;Secret Meeting\&quot;]]),[22])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ce3c4fe-ce1c-4cf7-93e6-108eaca692c2&quot;,&quot;parentUUID&quot;:&quot;a57d09a7-b13b-42d3-870e-45a1051553fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Super Secret Meeting\&quot;]]),[5,16])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;708c1530-ae93-4170-93c8-4725f1dda2bc&quot;,&quot;parentUUID&quot;:&quot;a57d09a7-b13b-42d3-870e-45a1051553fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(()=&gt;{new Message().table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;,\&quot;\\u{1F7E5}\&quot;]])},/Unable to render table: Row 1 has 3 entries, but first row has 2!/)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7c147ca-4307-4e57-932b-c9962c29a28c&quot;,&quot;parentUUID&quot;:&quot;a57d09a7-b13b-42d3-870e-45a1051553fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;96481d5d-f656-4c4b-84af-54d0d2e57ec3&quot;,&quot;0ac487ba-178b-4df0-8069-2547e5784460&quot;,&quot;1ce3c4fe-ce1c-4cf7-93e6-108eaca692c2&quot;,&quot;708c1530-ae93-4170-93c8-4725f1dda2bc&quot;,&quot;a7c147ca-4307-4e57-932b-c9962c29a28c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;097296ac-76f9-45c8-822e-3c2cbf69e481&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;);msg.fill();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81c20ce1-14d8-4f93-a7ae-64234e045a2c&quot;,&quot;parentUUID&quot;:&quot;097296ac-76f9-45c8-822e-3c2cbf69e481&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc22673e-594a-43cd-849d-1a2785125c5f&quot;,&quot;parentUUID&quot;:&quot;097296ac-76f9-45c8-822e-3c2cbf69e481&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# \\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9} #\\n# \\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7} #\\n# \\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA} #\\n# \\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9} #\\n# \\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7} #\\n# \\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA} #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acc0ca7e-dd58-4176-b806-d2de6f0888c8&quot;,&quot;parentUUID&quot;:&quot;097296ac-76f9-45c8-822e-3c2cbf69e481&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81c20ce1-14d8-4f93-a7ae-64234e045a2c&quot;,&quot;cc22673e-594a-43cd-849d-1a2785125c5f&quot;,&quot;acc0ca7e-dd58-4176-b806-d2de6f0888c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# H E L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d2eb9d0-9351-41eb-b814-031b319abbcb&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;,{position:{line:2,row:5}});assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93890285-de8d-4cb0-ad35-715cd0b66d50&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# L O R E M   I P S U M   D O L O R   S I T    #\\n# A M E T ,   C O N S E T E T U R              #\\n# S A D I P S C I N G   E L I T R ,   S E D    #\\n# D I A M   N O N U M Y   E I R M O D          #\\n# T E M P O R   I N V I D U N T                #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5463610e-289d-4233-ab33-905c1e1b2910&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Lorem-ipsum-dolor-sit-amet\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# L O R E M - I P S U M - D O L O R - S I T -  #\\n# A M E T                                      #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;278ef8d9-3886-4eed-8ded-eadf618ffbab&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;13:00\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;Daily\&quot;,{indent:true});msg.write(\&quot;\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;18:00\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;Fischst\\xE4bchen, Spinat &amp; Ei\&quot;,{indent:true});msg.write(\&quot;\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;20:00\&quot;,{position:MessageWritePosition.NEXT_LINE});msg.write(\&quot;Sandm\\xE4nnchen\&quot;,{indent:true});assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# 1 3 : 0 0   D A I L Y                        #\\n#                                              #\\n# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n#             S P I N A T   &amp;   E I            #\\n#                                              #\\n# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a21c60a-d16a-45b7-9b7f-def55e16ceaa&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Rindfleisch\&quot;).write(\&quot;etikettierungs\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;ueberwachungs\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;aufgaben\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;uebertragungs\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;gesetz\&quot;,{position:MessageWritePosition.NO_SPACE_BETWEEN}).write(\&quot;(das)\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# R I N D F L E I S C H                        #\\n# E T I K E T T I E R U N G S                  #\\n# U E B E R W A C H U N G S A U F G A B E N    #\\n# U E B E R T R A G U N G S G E S E T Z        #\\n# ( D A S )                                    #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a2eb178-b03c-4cb2-bccc-7b2d9f5ef5b4&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message().write(\&quot;Hello\\nWorld\&quot;).toString(),\&quot;#==============================================#\\n# H E L L O                                    #\\n# W O R L D                                    #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:0}).toString(),\&quot;#==============================================#\\n# H   L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:null}).toString(),\&quot;#==============================================#\\n# H L L O   W O R L D                          #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15a78cda-6b1e-4eef-a156-0bc4c706255f&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;).toString(),\&quot;#==============================================#\\n# H ? L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:0}).toString(),\&quot;#==============================================#\\n# H   L L O   W O R L D                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;);assert.strictEqual(new Message().write(\&quot;H\\u2377llo World\&quot;,{fallbackChar:null}).toString(),\&quot;#==============================================#\\n# H L L O   W O R L D                          #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaf66906-d051-4aec-89f3-f5cc44dd595c&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;\\u{1F4AA}\\u{1F3FC} Gym\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# G Y M                                        #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f33efeea-d450-4ed2-912a-0f39ec1a035a&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.\&quot;);msg.write(\&quot;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.\&quot;);msg.write(\&quot;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\&quot;);msg.write(\&quot;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\&quot;);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# L O R E M   I P S U M   D O L O R   S I T    #\\n# A M E T ,   C O N S E C T E T U R            #\\n# A D I P I S I C I   E L I T ,   S E D        #\\n# E I U S M O D   T E M P O R I N C I D U N T  #\\n# U T   L A B O R E   E T   D O L O R E        #\\n# M A G N A   A L I Q U A .   U T   E N I M    #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f492e99-4895-43f2-a569-0b9f705d0b53&quot;,&quot;parentUUID&quot;:&quot;288d73c0-2349-4ca8-9e75-88be83bd6a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d2eb9d0-9351-41eb-b814-031b319abbcb&quot;,&quot;93890285-de8d-4cb0-ad35-715cd0b66d50&quot;,&quot;5463610e-289d-4233-ab33-905c1e1b2910&quot;,&quot;278ef8d9-3886-4eed-8ded-eadf618ffbab&quot;,&quot;6a21c60a-d16a-45b7-9b7f-def55e16ceaa&quot;,&quot;9a2eb178-b03c-4cb2-bccc-7b2d9f5ef5b4&quot;,&quot;15a78cda-6b1e-4eef-a156-0bc4c706255f&quot;,&quot;aaf66906-d051-4aec-89f3-f5cc44dd595c&quot;,&quot;f33efeea-d450-4ed2-912a-0f39ec1a035a&quot;,&quot;4f492e99-4895-43f2-a569-0b9f705d0b53&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4189425-61c5-4f1a-b66a-a294737ac17a&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;]]);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# N O W         D A I L Y                      #\\n#                                              #\\n# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74083db4-9bf5-44f6-985e-ab693d56a1b8&quot;,&quot;parentUUID&quot;:&quot;e4189425-61c5-4f1a-b66a-a294737ac17a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Super Secret Meeting\&quot;],[\&quot;16:30\&quot;,\&quot;Awesome Presentation\&quot;]]);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# N O W       D A I L Y                        #\\n#                                              #\\n# 1 3 : 0 0   S U P E R   S E C R E T          #\\n#             M E E T I N G                    #\\n#                                              #\\n# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67ea751d-57c0-423b-a7ed-4fe902bac10b&quot;,&quot;parentUUID&quot;:&quot;e4189425-61c5-4f1a-b66a-a294737ac17a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\\n\&quot;);msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;]]);assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# H E L L O   W O R L D                        #\\n#                                              #\\n# N O W         D A I L Y                      #\\n#                                              #\\n# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd2f0a13-1745-463c-91fd-d20652626389&quot;,&quot;parentUUID&quot;:&quot;e4189425-61c5-4f1a-b66a-a294737ac17a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;assert.throws(()=&gt;{msg.table([[\&quot;now\&quot;,\&quot;Daily\&quot;],[\&quot;13:00\&quot;,\&quot;Secret Meeting\&quot;,\&quot;\\u{1F7E5}\&quot;]])},/Unable to render table: Row 1 has 3 entries, but first row has 2!/)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8995b784-2452-4a81-8fe6-ad8dfb886162&quot;,&quot;parentUUID&quot;:&quot;e4189425-61c5-4f1a-b66a-a294737ac17a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74083db4-9bf5-44f6-985e-ab693d56a1b8&quot;,&quot;67ea751d-57c0-423b-a7ed-4fe902bac10b&quot;,&quot;bd2f0a13-1745-463c-91fd-d20652626389&quot;,&quot;8995b784-2452-4a81-8fe6-ad8dfb886162&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1a13a467-5c28-48c0-a1a9-e1e3b52cf750&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;);msg.center();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7258420-0983-4c44-84be-1eb900ea1694&quot;,&quot;parentUUID&quot;:&quot;1a13a467-5c28-48c0-a1a9-e1e3b52cf750&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\&quot;);msg.center();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n# \\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5}\\u{1F7E5} #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de0c2612-44c6-4950-ae98-4b62dbb87881&quot;,&quot;parentUUID&quot;:&quot;1a13a467-5c28-48c0-a1a9-e1e3b52cf750&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.write(\&quot;Hello World\&quot;,{position:{line:5,row:11}});msg.center();assert.strictEqual(msg.toString(),\&quot;#==============================================#\\n#                                              #\\n#                                              #\\n#           H E L L O   W O R L D              #\\n#                                              #\\n#                                              #\\n#                                              #\\n#==============================================#\\n\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88b366f2-7269-4cef-a464-4feb2ab480e2&quot;,&quot;parentUUID&quot;:&quot;1a13a467-5c28-48c0-a1a9-e1e3b52cf750&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7258420-0983-4c44-84be-1eb900ea1694&quot;,&quot;de0c2612-44c6-4950-ae98-4b62dbb87881&quot;,&quot;88b366f2-7269-4cef-a464-4feb2ab480e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;421cd627-82e1-4267-92fe-6fc7eaba32f1&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;47ab14cb-0d23-4e4d-84d7-10170a0bed9d&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6decad51-aa73-445f-a31e-ecedefab7bde&quot;,&quot;parentUUID&quot;:&quot;47ab14cb-0d23-4e4d-84d7-10170a0bed9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;6decad51-aa73-445f-a31e-ecedefab7bde&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;729effee-34ed-48be-9ae8-de21f7558761&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d33f1bf2-435e-4d4b-84d5-dcc913fbb8d9&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const json={currentMessage:{layout:JSON.stringify(msg.toCharArray())}};const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://rw.vestaboard.com/\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Read-Write-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;json,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new ReadWriteAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,{fetch});const result=await api.getCurrentMessage();assert.deepStrictEqual(result.toCharArray(),msg.toCharArray())&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;628334ad-d8d4-47bf-87e3-c016e1236608&quot;,&quot;parentUUID&quot;:&quot;d33f1bf2-435e-4d4b-84d5-dcc913fbb8d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1872d869-a1a7-405f-b5d8-1d36d18fe2d2&quot;,&quot;parentUUID&quot;:&quot;d33f1bf2-435e-4d4b-84d5-dcc913fbb8d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;628334ad-d8d4-47bf-87e3-c016e1236608&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;1872d869-a1a7-405f-b5d8-1d36d18fe2d2&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;c7e4b4b5-66c4-4830-9ab6-a6c286bb887a&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://rw.vestaboard.com/\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Read-Write-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;},body:JSON.stringify(msg.toCharArray())});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({status:\&quot;ok\&quot;}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new ReadWriteAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,{fetch});await api.postMessage(msg)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;165426da-9314-4995-b544-32879783b883&quot;,&quot;parentUUID&quot;:&quot;c7e4b4b5-66c4-4830-9ab6-a6c286bb887a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1beec82-2efe-4875-b025-9f22bd8ad2ce&quot;,&quot;parentUUID&quot;:&quot;c7e4b4b5-66c4-4830-9ab6-a6c286bb887a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;165426da-9314-4995-b544-32879783b883&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;c1beec82-2efe-4875-b025-9f22bd8ad2ce&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;d714a34d-33ec-489e-97d9-9c38e5deb50c&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cbcc6c37-6e31-4980-b000-b78cbda03876&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const json={type:\&quot;installation\&quot;,_id:\&quot;f35032ce-fd2b-4afb-8a24-d71c8085303c\&quot;,_created:\&quot;1577829607582\&quot;,installation:{_id:\&quot;562038d1-6fdb-4ba5-ae8b-bc9ec882178d\&quot;}};const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://platform.vestaboard.com/viewer\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;json,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.getViewer();assert.deepStrictEqual(result,json)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cc13f8a-4bb2-4c49-9ec2-121aec6dce90&quot;,&quot;parentUUID&quot;:&quot;cbcc6c37-6e31-4980-b000-b78cbda03876&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03027f7c-a551-4343-8e5e-124d8e6f60de&quot;,&quot;parentUUID&quot;:&quot;cbcc6c37-6e31-4980-b000-b78cbda03876&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4cc13f8a-4bb2-4c49-9ec2-121aec6dce90&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;03027f7c-a551-4343-8e5e-124d8e6f60de&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;63f842f4-13ec-4fca-a8a4-95e78cd50541&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const json={subscriptions:[{_id:\&quot;bc6412b3-3aa6-4684-8962-cd2876942c0d\&quot;,_created:\&quot;1577833654294\&quot;,installation:{_id:\&quot;fefb8778-9500-4522-b115-29c0dd13c402\&quot;,installable:{_id:\&quot;b629d7df-7ecb-4460-b51e-f87fa942f113\&quot;}},boards:[{_id:\&quot;a1e866f2-e77e-45d8-997a-2e3ebeff4961\&quot;}]}]};const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://platform.vestaboard.com/subscriptions\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;json,\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.getSubscriptions();assert.deepStrictEqual(result,json)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d53bb31f-178b-4341-8ef6-8729b7998dd4&quot;,&quot;parentUUID&quot;:&quot;63f842f4-13ec-4fca-a8a4-95e78cd50541&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9503511d-fb01-4234-95a0-49fc4039ebbd&quot;,&quot;parentUUID&quot;:&quot;63f842f4-13ec-4fca-a8a4-95e78cd50541&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d53bb31f-178b-4341-8ef6-8729b7998dd4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;9503511d-fb01-4234-95a0-49fc4039ebbd&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;7c83f72e-77e1-4ebf-bd31-8fa0d2694cae&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg=new Message;msg.fill(\&quot;\\u{1F7E5}\\u{1F7E7}\\u{1F7E8}\\u{1F7E9}\\u{1F7E6}\\u{1F7EA}\&quot;);const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://platform.vestaboard.com/subscriptions/foo/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;},body:JSON.stringify({characters:msg.toCharArray()})});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({message:{id:\&quot;\&quot;,created:1}}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.postMessage(msg,\&quot;foo\&quot;);assert.deepStrictEqual(result,{message:{id:\&quot;\&quot;,created:1}})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a415217-8dfb-434b-9d8a-2db081e59462&quot;,&quot;parentUUID&quot;:&quot;7c83f72e-77e1-4ebf-bd31-8fa0d2694cae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch=__name(async(url,options)=&gt;{const msg=new Message(\&quot;Hello World\&quot;);assert.strictEqual(url,\&quot;https://platform.vestaboard.com/subscriptions/foo/message\&quot;);assert.deepStrictEqual(options,{method:\&quot;POST\&quot;,headers:{\&quot;Content-Type\&quot;:\&quot;application/json\&quot;,\&quot;X-Vestaboard-Api-Key\&quot;:\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;X-Vestaboard-Api-Secret\&quot;:\&quot;******************************\&quot;},body:JSON.stringify({characters:msg.toCharArray()})});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({message:{id:\&quot;\&quot;,created:1}}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const api=new SubscriptionAPI(\&quot;3eadf7a8-6602-4bf5-92f4-970d36066958\&quot;,\&quot;******************************\&quot;,{fetch});const result=await api.postMessage(\&quot;Hello World\&quot;,[\&quot;foo\&quot;,\&quot;foo\&quot;]);assert.deepStrictEqual(result,[{message:{id:\&quot;\&quot;,created:1}},{message:{id:\&quot;\&quot;,created:1}}])&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71aaa535-a63e-4eec-b24d-c3412e0b540f&quot;,&quot;parentUUID&quot;:&quot;7c83f72e-77e1-4ebf-bd31-8fa0d2694cae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1273e74b-c760-4609-9acb-d8466d81258f&quot;,&quot;parentUUID&quot;:&quot;7c83f72e-77e1-4ebf-bd31-8fa0d2694cae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6a415217-8dfb-434b-9d8a-2db081e59462&quot;,&quot;71aaa535-a63e-4eec-b24d-c3412e0b540f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;1273e74b-c760-4609-9acb-d8466d81258f&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;620efdec-7c9a-4923-adf1-a6ac51bcef5d&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7e3939a3-7e91-4eb2-bf51-71c37f99e734&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://example.com/test\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;}});return{ok:true,status:200,statusText:\&quot;OK\&quot;,json:__name(async()=&gt;({foo:\&quot;bar\&quot;}),\&quot;json\&quot;)}},\&quot;fetch\&quot;);const response=await request(\&quot;https://example.com/test\&quot;,{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;},void 0,{fetch});assert.deepStrictEqual(response,{foo:\&quot;bar\&quot;})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39915726-3b9c-409e-9fb3-0beaa9ed740c&quot;,&quot;parentUUID&quot;:&quot;7e3939a3-7e91-4eb2-bf51-71c37f99e734&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10011,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetch=__name(async(url,options)=&gt;{assert.strictEqual(url,\&quot;https://example.com/test\&quot;);assert.deepStrictEqual(options,{method:\&quot;GET\&quot;,headers:{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;}});return{ok:false,status:500,statusText:\&quot;ERROR\&quot;,json:__name(async()=&gt;\&quot;\&quot;,\&quot;json\&quot;)}},\&quot;fetch\&quot;);await assert.rejects(async()=&gt;{await request(\&quot;https://example.com/test\&quot;,{\&quot;X-Test-Header\&quot;:\&quot;1337\&quot;},void 0,{fetch})},/HTTP Request failed/)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29f6fefa-79a8-41e7-9278-88c1578b2ec0&quot;,&quot;parentUUID&quot;:&quot;7e3939a3-7e91-4eb2-bf51-71c37f99e734&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;39915726-3b9c-409e-9fb3-0beaa9ed740c&quot;,&quot;29f6fefa-79a8-41e7-9278-88c1578b2ec0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10011,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>