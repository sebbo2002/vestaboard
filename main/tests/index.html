<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:24,&quot;tests&quot;:58,&quot;passes&quot;:50,&quot;pending&quot;:8,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-06-14T18:51:19.879Z&quot;,&quot;end&quot;:&quot;2023-06-14T18:51:29.998Z&quot;,&quot;duration&quot;:10119,&quot;testsRegistered&quot;:58,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:13.793103448275861,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;5b2d2d89-d252-4a81-9700-2947a98fdcce&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1d646c97-2434-4b11-b8aa-f1f3832efcf5&quot;,&quot;title&quot;:&quot;LocalAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f489121d-2379-4058-9c5a-2d2be39372bf&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked by device)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by device)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: msg.toCharArray()\n                });\n            })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29dedfde-c383-4c59-92df-85d52f5a3dfb&quot;,&quot;parentUUID&quot;:&quot;f489121d-2379-4058-9c5a-2d2be39372bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (mocked by docs)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (mocked by docs)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return msg.toCharArray(); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed713c14-8f84-4950-bc9f-55d088155527&quot;,&quot;parentUUID&quot;:&quot;f489121d-2379-4058-9c5a-2d2be39372bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b6413cc-8768-4786-bf24-a88ebae104d3&quot;,&quot;parentUUID&quot;:&quot;f489121d-2379-4058-9c5a-2d2be39372bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;29dedfde-c383-4c59-92df-85d52f5a3dfb&quot;,&quot;ed713c14-8f84-4950-bc9f-55d088155527&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;9b6413cc-8768-4786-bf24-a88ebae104d3&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;74ec1d6c-8d3f-4993-97d2-235a05215339&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/local-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/local-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message(&#x27;Hello World&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;http://vestaboard.local:7000/local-api/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Local-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 201,\n            statusText: &#x27;CREATED&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    const api = new LocalAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, undefined, { fetch });\n    yield api.postMessage(&#x27;Hello World&#x27;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;743d0ea7-434e-4bb1-8a46-eaecc5d0ceae&quot;,&quot;parentUUID&quot;:&quot;74ec1d6c-8d3f-4993-97d2-235a05215339&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;LocalAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9d91656-51ec-4275-bad8-50b79daedcb6&quot;,&quot;parentUUID&quot;:&quot;74ec1d6c-8d3f-4993-97d2-235a05215339&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;743d0ea7-434e-4bb1-8a46-eaecc5d0ceae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;e9d91656-51ec-4275-bad8-50b79daedcb6&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;519ddc4e-3980-4a1a-8841-c5055c73c4b4&quot;,&quot;title&quot;:&quot;Message&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8324003d-9f88-491e-b74d-3ef339ef22da&quot;,&quot;title&quot;:&quot;constructor&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should center the message given&quot;,&quot;fullTitle&quot;:&quot;Message constructor should center the message given&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message(&#x27;Hello World&#x27;).toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce3505b9-c263-4512-8983-d2633daecb95&quot;,&quot;parentUUID&quot;:&quot;8324003d-9f88-491e-b74d-3ef339ef22da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also support a char array&quot;,&quot;fullTitle&quot;:&quot;Message constructor should also support a char array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª &#x27;);\nassert.deepStrictEqual(new Message(msg.toCharArray()).toCharArray(), msg.toCharArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc82a0f9-dee8-4970-ab33-6bc183838635&quot;,&quot;parentUUID&quot;:&quot;8324003d-9f88-491e-b74d-3ef339ef22da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce3505b9-c263-4512-8983-d2633daecb95&quot;,&quot;dc82a0f9-dee8-4970-ab33-6bc183838635&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fafe5666-1fb4-42a2-b72b-78eb95b92372&quot;,&quot;title&quot;:&quot;static string2chars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello&#x27;), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a51c8cf-5692-4406-b787-a5629c11eee7&quot;,&quot;parentUUID&quot;:&quot;fafe5666-1fb4-42a2-b72b-78eb95b92372&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle german umlauts&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle german umlauts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;KÃ¤se&#x27;), [11, 1, 5, 19, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75264d11-63d5-4974-b9fa-0664fa0b957b&quot;,&quot;parentUUID&quot;:&quot;fafe5666-1fb4-42a2-b72b-78eb95b92372&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle color emojis&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should handle color emojis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªâ¬œâ¬›&#x27;), [63, 64, 65, 66, 67, 68, 69, 0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fa1042d-c05e-4d21-941f-69ca2dba2d90&quot;,&quot;parentUUID&quot;:&quot;fafe5666-1fb4-42a2-b72b-78eb95b92372&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove special chars&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should remove special chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;, { fallbackChar: null }), [8, 12, 12, 15]);\nassert.deepStrictEqual(Message.string2chars(&#x27;Hâ·llo&#x27;), [8, 60, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d3b51ef-aa4e-4924-8dc3-f7001e91cfa1&quot;,&quot;parentUUID&quot;:&quot;fafe5666-1fb4-42a2-b72b-78eb95b92372&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with all charts defined in CHAR_MAP&quot;,&quot;fullTitle&quot;:&quot;Message static string2chars() should work with all charts defined in CHAR_MAP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let text = &#x27;&#x27;;\nconst result = [];\nCHAR_MAP.forEach(([str, chars]) =&gt; {\n    // assert.strictEqual(char.length, 1, `Char \&quot;${char}\&quot; has a length of ${char.length}`);\n    const actual = Message.string2chars(str, { removeUnsupportedWords: false });\n    const expected = chars.length !== 1 || chars[0] !== -2 ? chars : [0];\n    assert.deepStrictEqual(actual, expected, `Unable to process char \&quot;${str}\&quot;: string2chars returned ${JSON.stringify(actual)}, but expected result was ${JSON.stringify(expected)}`);\n    text += str;\n    result.push(...expected);\n});\nassert.deepStrictEqual(Message.string2chars(text, { removeUnsupportedWords: false }), result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23812b18-2b8a-442f-96bb-090bbccafae0&quot;,&quot;parentUUID&quot;:&quot;fafe5666-1fb4-42a2-b72b-78eb95b92372&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a51c8cf-5692-4406-b787-a5629c11eee7&quot;,&quot;75264d11-63d5-4974-b9fa-0664fa0b957b&quot;,&quot;5fa1042d-c05e-4d21-941f-69ca2dba2d90&quot;,&quot;1d3b51ef-aa4e-4924-8dc3-f7001e91cfa1&quot;,&quot;23812b18-2b8a-442f-96bb-090bbccafae0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;709f8c6a-e535-4f2f-9a51-7d34c6451b35&quot;,&quot;title&quot;:&quot;static splitCharsIntoLines()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should split words by whitespace&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by whitespace&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        0,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15df381e-8b1a-4f0b-9e54-9b118b0c8767&quot;,&quot;parentUUID&quot;:&quot;709f8c6a-e535-4f2f-9a51-7d34c6451b35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should split words by dash&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should split words by dash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Hello-World&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [8, 8]), [\n    [\n        8,\n        5,\n        12,\n        12,\n        15,\n        44,\n    ],\n    [\n        23,\n        15,\n        18,\n        12,\n        4\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58fc9d40-777a-4f12-9b1a-a4e047a954ca&quot;,&quot;parentUUID&quot;:&quot;709f8c6a-e535-4f2f-9a51-7d34c6451b35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should auto-split very long words&quot;,&quot;fullTitle&quot;:&quot;Message static splitCharsIntoLines() should auto-split very long words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const chars = Message.string2chars(&#x27;Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz&#x27;);\nassert.deepEqual(Message.splitCharsIntoLines(chars, [22, 22]), [\n    [\n        18,\n        9,\n        14,\n        4,\n        6,\n        12,\n        5,\n        9,\n        19,\n        3,\n        8,\n        5,\n        20,\n        9,\n        11,\n        5,\n        20,\n        20,\n        9,\n        5,\n        18,\n        44\n    ],\n    [\n        21,\n        14,\n        7,\n        19,\n        21,\n        5,\n        2,\n        5,\n        18,\n        23,\n        1,\n        3,\n        8,\n        21,\n        14,\n        7,\n        19,\n        1,\n        21,\n        6,\n        7,\n        44\n    ],\n    [\n        1,\n        2,\n        5,\n        14,\n        21,\n        5,\n        2,\n        5,\n        18,\n        20,\n        18,\n        1,\n        7,\n        21,\n        14,\n        7,\n        19,\n        7,\n        5,\n        19,\n        5,\n        44,\n    ],\n    [\n        20,\n        26\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f1a24b2-e2d8-42d1-984a-056e2acc15ee&quot;,&quot;parentUUID&quot;:&quot;709f8c6a-e535-4f2f-9a51-7d34c6451b35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;15df381e-8b1a-4f0b-9e54-9b118b0c8767&quot;,&quot;58fc9d40-777a-4f12-9b1a-a4e047a954ca&quot;,&quot;8f1a24b2-e2d8-42d1-984a-056e2acc15ee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;44fe3e92-7efd-4851-9b6d-ce328bdc6153&quot;,&quot;title&quot;:&quot;static removeEmojisFromChars()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not trim texts without emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should not trim texts without emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.string2chars(&#x27;Hello World&#x27;), [\n    8,\n    5,\n    12,\n    12,\n    15,\n    0,\n    23,\n    15,\n    18,\n    12,\n    4\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24e861df-14cf-496e-9f08-b7e783f8d7bb&quot;,&quot;parentUUID&quot;:&quot;44fe3e92-7efd-4851-9b6d-ce328bdc6153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji prefixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji prefixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼Hello&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;ðŸ‘‹ðŸ¼ Hello&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fb075f1-2777-49f7-838d-278230562651&quot;,&quot;parentUUID&quot;:&quot;44fe3e92-7efd-4851-9b6d-ce328bdc6153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji postfixes&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji postfixes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;HelloðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);\nassert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼&#x27;)), [8, 5, 12, 12, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f78933d-4152-41f9-ad0f-0a51a224ce6d&quot;,&quot;parentUUID&quot;:&quot;44fe3e92-7efd-4851-9b6d-ce328bdc6153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim emoji words&quot;,&quot;fullTitle&quot;:&quot;Message static removeEmojisFromChars() should trim emoji words&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.removeEmojisFromChars(Message.string2chars(&#x27;Hello ðŸ‘‹ðŸ¼ðŸ‘‹ðŸ¼ World&#x27;)), [8, 5, 12, 12, 15, 0, 23, 15, 18, 12, 4]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55cdc05f-08ac-4d88-97de-35e435b3868b&quot;,&quot;parentUUID&quot;:&quot;44fe3e92-7efd-4851-9b6d-ce328bdc6153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;24e861df-14cf-496e-9f08-b7e783f8d7bb&quot;,&quot;4fb075f1-2777-49f7-838d-278230562651&quot;,&quot;5f78933d-4152-41f9-ad0f-0a51a224ce6d&quot;,&quot;55cdc05f-08ac-4d88-97de-35e435b3868b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;58f7f287-db6b-472b-9a35-1d4fa4c42b8d&quot;,&quot;title&quot;:&quot;static getColumnSizesFromData()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]), [6, 15]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;539f762d-0d60-4a05-b840-63959c5a23c2&quot;,&quot;parentUUID&quot;:&quot;58f7f287-db6b-472b-9a35-1d4fa4c42b8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work without data&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work without data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([]), []);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea66f2cb-aecc-43fb-a4b1-c6a1e369a6ed&quot;,&quot;parentUUID&quot;:&quot;58f7f287-db6b-472b-9a35-1d4fa4c42b8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with only one column&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work with only one column&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;Daily&#x27;],\n    [&#x27;Secret Meeting&#x27;]\n]), [22]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6e76196-64f3-4b6f-b593-2471e1cd4a90&quot;,&quot;parentUUID&quot;:&quot;58f7f287-db6b-472b-9a35-1d4fa4c42b8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work if length is not enough&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should work if length is not enough&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepStrictEqual(Message.getColumnSizesFromData([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;]\n]), [5, 16]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57225485-9c35-41b1-936a-e205c2b9f58c&quot;,&quot;parentUUID&quot;:&quot;58f7f287-db6b-472b-9a35-1d4fa4c42b8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message static getColumnSizesFromData() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.throws(() =&gt; {\n    new Message().table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8ca38e0-a01a-4e2e-97de-5b4057c782d5&quot;,&quot;parentUUID&quot;:&quot;58f7f287-db6b-472b-9a35-1d4fa4c42b8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;539f762d-0d60-4a05-b840-63959c5a23c2&quot;,&quot;ea66f2cb-aecc-43fb-a4b1-c6a1e369a6ed&quot;,&quot;a6e76196-64f3-4b6f-b593-2471e1cd4a90&quot;,&quot;57225485-9c35-41b1-936a-e205c2b9f58c&quot;,&quot;d8ca38e0-a01a-4e2e-97de-5b4057c782d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;36bac8d2-8feb-4245-9325-69257c9d6b58&quot;,&quot;title&quot;:&quot;fill()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with default&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.fill();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;846c4583-a74c-4734-8a9f-8d033dd4e797&quot;,&quot;parentUUID&quot;:&quot;36bac8d2-8feb-4245-9325-69257c9d6b58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with single chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with single chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f64420a-1c7b-42c3-ad8f-5d4e8a68ebc8&quot;,&quot;parentUUID&quot;:&quot;36bac8d2-8feb-4245-9325-69257c9d6b58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with multiple chars&quot;,&quot;fullTitle&quot;:&quot;Message fill() should work with multiple chars&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ© #\\n&#x27; +\n    &#x27;# ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ #\\n&#x27; +\n    &#x27;# ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸªðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05769de3-6d86-4f07-a014-c36e3d701bc6&quot;,&quot;parentUUID&quot;:&quot;36bac8d2-8feb-4245-9325-69257c9d6b58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;846c4583-a74c-4734-8a9f-8d033dd4e797&quot;,&quot;8f64420a-1c7b-42c3-ad8f-5d4e8a68ebc8&quot;,&quot;05769de3-6d86-4f07-a014-c36e3d701bc6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;title&quot;:&quot;write()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should start writing from top/left&quot;,&quot;fullTitle&quot;:&quot;Message write() should start writing from top/left&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f304cbe-0104-4ea9-9f9a-19fe2cab308e&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept line &amp; row for positioning&quot;,&quot;fullTitle&quot;:&quot;Message write() should accept line &amp; row for positioning&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 2,\n        row: 5\n    }\n});\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8910ef7c-4c69-416d-ac7d-6423fd354595&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add another line if text is too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should add another line if text is too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, &#x27; +\n    &#x27;consetetur sadipscing elitr, sed &#x27; +\n    &#x27;diam nonumy eirmod tempor invidunt&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E T E T U R              #\\n&#x27; +\n    &#x27;# S A D I P S C I N G   E L I T R ,   S E D    #\\n&#x27; +\n    &#x27;# D I A M   N O N U M Y   E I R M O D          #\\n&#x27; +\n    &#x27;# T E M P O R   I N V I D U N T                #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f74dc96-2983-48fe-870c-64cd0989c909&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with words &gt; board length&quot;,&quot;fullTitle&quot;:&quot;Message write() should work with words &gt; board length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem-ipsum-dolor-sit-amet&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M - I P S U M - D O L O R - S I T -  #\\n&#x27; +\n    &#x27;# A M E T                                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90b5dd13-a128-4bc1-8561-c1dca4e88eb8&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to use NEXT_LINE flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should allow to use NEXT_LINE flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;13:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;Daily&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;18:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;FischstÃ¤bchen, Spinat &amp; Ei&#x27;, { indent: true });\nmsg.write(&#x27;&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;20:00&#x27;, { position: MessageWritePosition.NEXT_LINE });\nmsg.write(&#x27;SandmÃ¤nnchen&#x27;, { indent: true });\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# 1 3 : 0 0   D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 8 : 0 0   F I S C H S T A E B C H E N ,    #\\n&#x27; +\n    &#x27;#             S P I N A T   &amp;   E I            #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 2 0 : 0 0   S A N D M A E N N C H E N        #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a943c822-1716-45f9-aca5-842c44cc851a&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the NO_SPACE_BETWEEN flag&quot;,&quot;fullTitle&quot;:&quot;Message write() should support the NO_SPACE_BETWEEN flag&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Rindfleisch&#x27;)\n    .write(&#x27;etikettierungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;ueberwachungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;aufgaben&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;uebertragungs&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;gesetz&#x27;, { position: MessageWritePosition.NO_SPACE_BETWEEN })\n    .write(&#x27;(das)&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# R I N D F L E I S C H                        #\\n&#x27; +\n    &#x27;# E T I K E T T I E R U N G S                  #\\n&#x27; +\n    &#x27;# U E B E R W A C H U N G S A U F G A B E N    #\\n&#x27; +\n    &#x27;# U E B E R T R A G U N G S G E S E T Z        #\\n&#x27; +\n    &#x27;# ( D A S )                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aee5b57d-26f0-49c6-b81b-3ebd513afe57&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support \\n&quot;,&quot;fullTitle&quot;:&quot;Message write() should support \\n&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hello\\nWorld&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O                                    #\\n&#x27; +\n    &#x27;# W O R L D                                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c080360-c1a6-4582-8edc-d59e665feb3d&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle the fallback char&quot;,&quot;fullTitle&quot;:&quot;Message write() should handle the fallback char&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;)\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H ? L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: 0 })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H   L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);\nassert.strictEqual(new Message()\n    .write(&#x27;Hâ·llo World&#x27;, { fallbackChar: null })\n    .toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H L L O   W O R L D                          #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0378470c-e108-4220-98cb-bee2358203a3&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove unsupported words by default&quot;,&quot;fullTitle&quot;:&quot;Message write() should remove unsupported words by default&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;ðŸ’ªðŸ¼ Gym&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# G Y M                                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a2af378-8ddc-4f00-8fd1-e2a16bd8dd33&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not break if message is way too long&quot;,&quot;fullTitle&quot;:&quot;Message write() should not break if message is way too long&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.&#x27;);\nmsg.write(&#x27;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.&#x27;);\nmsg.write(&#x27;Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.&#x27;);\nmsg.write(&#x27;Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&#x27;);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# L O R E M   I P S U M   D O L O R   S I T    #\\n&#x27; +\n    &#x27;# A M E T ,   C O N S E C T E T U R            #\\n&#x27; +\n    &#x27;# A D I P I S I C I   E L I T ,   S E D        #\\n&#x27; +\n    &#x27;# E I U S M O D   T E M P O R I N C I D U N T  #\\n&#x27; +\n    &#x27;# U T   L A B O R E   E T   D O L O R E        #\\n&#x27; +\n    &#x27;# M A G N A   A L I Q U A .   U T   E N I M    #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12b2ec55-a215-4265-a88a-ea9986f43b43&quot;,&quot;parentUUID&quot;:&quot;35b27114-64b4-4316-8b0a-4ce2d641bce4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9f304cbe-0104-4ea9-9f9a-19fe2cab308e&quot;,&quot;8910ef7c-4c69-416d-ac7d-6423fd354595&quot;,&quot;4f74dc96-2983-48fe-870c-64cd0989c909&quot;,&quot;90b5dd13-a128-4bc1-8561-c1dca4e88eb8&quot;,&quot;a943c822-1716-45f9-aca5-842c44cc851a&quot;,&quot;aee5b57d-26f0-49c6-b81b-3ebd513afe57&quot;,&quot;6c080360-c1a6-4582-8edc-d59e665feb3d&quot;,&quot;0378470c-e108-4220-98cb-bee2358203a3&quot;,&quot;4a2af378-8ddc-4f00-8fd1-e2a16bd8dd33&quot;,&quot;12b2ec55-a215-4265-a88a-ea9986f43b43&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5e89624e-04c5-4450-aaf3-cc70f7e3f37e&quot;,&quot;title&quot;:&quot;table()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a very basic example&quot;,&quot;fullTitle&quot;:&quot;Message table() should work with a very basic example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8828d16-818e-45c2-9b68-389bed86a149&quot;,&quot;parentUUID&quot;:&quot;5e89624e-04c5-4450-aaf3-cc70f7e3f37e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should just fill the space available if too full&quot;,&quot;fullTitle&quot;:&quot;Message table() should just fill the space available if too full&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Super Secret Meeting&#x27;],\n    [&#x27;16:30&#x27;, &#x27;Awesome Presentation&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# N O W       D A I L Y                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0   S U P E R   S E C R E T          #\\n&#x27; +\n    &#x27;#             M E E T I N G                    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 6 : 3 0   A W E S O M E   P R E S E N T -  #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e35e2f04-9be3-4566-a454-c0cf9e9453fc&quot;,&quot;parentUUID&quot;:&quot;5e89624e-04c5-4450-aaf3-cc70f7e3f37e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should pay attention to the cursor&quot;,&quot;fullTitle&quot;:&quot;Message table() should pay attention to the cursor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World\\n&#x27;);\nmsg.table([\n    [&#x27;now&#x27;, &#x27;Daily&#x27;],\n    [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;]\n]);\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# H E L L O   W O R L D                        #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# N O W         D A I L Y                      #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;# 1 3 : 0 0     S E C R E T   M E E T I N G    #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a25df407-4ea5-4532-a315-4b0e7af23ecc&quot;,&quot;parentUUID&quot;:&quot;5e89624e-04c5-4450-aaf3-cc70f7e3f37e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if rows have different number of columns&quot;,&quot;fullTitle&quot;:&quot;Message table() should throw error if rows have different number of columns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nassert.throws(() =&gt; {\n    msg.table([\n        [&#x27;now&#x27;, &#x27;Daily&#x27;],\n        [&#x27;13:00&#x27;, &#x27;Secret Meeting&#x27;, &#x27;ðŸŸ¥&#x27;]\n    ]);\n}, /Unable to render table: Row 1 has 3 entries, but first row has 2!/);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6bc3b89-8feb-480a-b3c2-98cbb567de64&quot;,&quot;parentUUID&quot;:&quot;5e89624e-04c5-4450-aaf3-cc70f7e3f37e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8828d16-818e-45c2-9b68-389bed86a149&quot;,&quot;e35e2f04-9be3-4566-a454-c0cf9e9453fc&quot;,&quot;a25df407-4ea5-4532-a315-4b0e7af23ecc&quot;,&quot;d6bc3b89-8feb-480a-b3c2-98cbb567de64&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;da1e5671-4d3c-41ac-aa83-dd17f19fbf09&quot;,&quot;title&quot;:&quot;center()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/message.ts&quot;,&quot;file&quot;:&quot;/test/lib/message.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work with a single word&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a single word&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b5dedb3-2c02-489b-9c8c-bd13f497cfae&quot;,&quot;parentUUID&quot;:&quot;da1e5671-4d3c-41ac-aa83-dd17f19fbf09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with a complete filled board&quot;,&quot;fullTitle&quot;:&quot;Message center() should work with a complete filled board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.fill(&#x27;ðŸŸ¥&#x27;);\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;# ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a48167a-5ae4-47fb-8bce-135b33fea4ac&quot;,&quot;parentUUID&quot;:&quot;da1e5671-4d3c-41ac-aa83-dd17f19fbf09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also work if word is not top/left aligned&quot;,&quot;fullTitle&quot;:&quot;Message center() should also work if word is not top/left aligned&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const msg = new Message();\nmsg.write(&#x27;Hello World&#x27;, {\n    position: {\n        line: 5,\n        row: 11\n    }\n});\nmsg.center();\nassert.strictEqual(msg.toString(), &#x27;#==============================================#\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#           H E L L O   W O R L D              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#                                              #\\n&#x27; +\n    &#x27;#==============================================#\\n&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6e255f8-a3f5-4b82-b7a8-8a37c31626e9&quot;,&quot;parentUUID&quot;:&quot;da1e5671-4d3c-41ac-aa83-dd17f19fbf09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0b5dedb3-2c02-489b-9c8c-bd13f497cfae&quot;,&quot;7a48167a-5ae4-47fb-8bce-135b33fea4ac&quot;,&quot;a6e255f8-a3f5-4b82-b7a8-8a37c31626e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4854ec5-f1c4-4f78-8e31-3364498725bf&quot;,&quot;title&quot;:&quot;MultipleBoard&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f3a12860-bdd2-4571-a72b-e1759a065b17&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/multiple-boards.ts&quot;,&quot;file&quot;:&quot;/test/lib/multiple-boards.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;MultipleBoard postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;568ccc40-b5a8-4a31-85cc-216dbcdeda38&quot;,&quot;parentUUID&quot;:&quot;f3a12860-bdd2-4571-a72b-e1759a065b17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;568ccc40-b5a8-4a31-85cc-216dbcdeda38&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;1c6ebe85-08a5-4aa6-add5-574a1e65f441&quot;,&quot;title&quot;:&quot;ReadWriteAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;53b210ff-cb7f-489b-8d12-f461c9729226&quot;,&quot;title&quot;:&quot;getCurrentMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const json = {\n        currentMessage: {\n            layout: JSON.stringify(msg.toCharArray())\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    const result = yield api.getCurrentMessage();\n    assert.deepStrictEqual(result.toCharArray(), msg.toCharArray());\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;338a6352-3db9-49e2-84bb-ec6895e1567c&quot;,&quot;parentUUID&quot;:&quot;53b210ff-cb7f-489b-8d12-f461c9729226&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI getCurrentMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ab6401e-4a53-435c-a4ab-8ca31ab899f8&quot;,&quot;parentUUID&quot;:&quot;53b210ff-cb7f-489b-8d12-f461c9729226&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;338a6352-3db9-49e2-84bb-ec6895e1567c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;3ab6401e-4a53-435c-a4ab-8ca31ab899f8&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;c454841f-261a-4ff5-baac-2a18eebd1704&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/read-write-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/read-write-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://rw.vestaboard.com/&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Read-Write-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;\n            },\n            body: JSON.stringify(msg.toCharArray())\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    status: &#x27;ok&#x27;\n                });\n            })\n        };\n    });\n    const api = new ReadWriteAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, { fetch });\n    yield api.postMessage(msg);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea7fccc0-24bf-4724-bf99-1b88f9f05341&quot;,&quot;parentUUID&quot;:&quot;c454841f-261a-4ff5-baac-2a18eebd1704&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;ReadWriteAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c2cb5f9-e114-45a8-b5fc-e0bbc2aa603c&quot;,&quot;parentUUID&quot;:&quot;c454841f-261a-4ff5-baac-2a18eebd1704&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea7fccc0-24bf-4724-bf99-1b88f9f05341&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;6c2cb5f9-e114-45a8-b5fc-e0bbc2aa603c&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;3edb6d89-4cc1-4e16-9ef5-40b3e3ea9991&quot;,&quot;title&quot;:&quot;SubscriptionAPI&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6fa2e3e6-8f6f-4c94-93e0-8e723b04802c&quot;,&quot;title&quot;:&quot;getViewer()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const json = {\n        type: &#x27;installation&#x27;,\n        _id: &#x27;f35032ce-fd2b-4afb-8a24-d71c8085303c&#x27;,\n        _created: &#x27;1577829607582&#x27;,\n        installation: {\n            _id: &#x27;562038d1-6fdb-4ba5-ae8b-bc9ec882178d&#x27;\n        }\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/viewer&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getViewer();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;106f09d9-b774-47ca-99ef-74d343c36574&quot;,&quot;parentUUID&quot;:&quot;6fa2e3e6-8f6f-4c94-93e0-8e723b04802c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getViewer() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df748a35-a3ef-40dd-ae7e-013e0319cdff&quot;,&quot;parentUUID&quot;:&quot;6fa2e3e6-8f6f-4c94-93e0-8e723b04802c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;106f09d9-b774-47ca-99ef-74d343c36574&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;df748a35-a3ef-40dd-ae7e-013e0319cdff&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;c9701418-7326-475c-acf6-a108b708e33c&quot;,&quot;title&quot;:&quot;getSubscription()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (mocked)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (mocked)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const json = {\n        subscriptions: [\n            {\n                _id: &#x27;bc6412b3-3aa6-4684-8962-cd2876942c0d&#x27;,\n                _created: &#x27;1577833654294&#x27;,\n                installation: {\n                    _id: &#x27;fefb8778-9500-4522-b115-29c0dd13c402&#x27;,\n                    installable: {\n                        _id: &#x27;b629d7df-7ecb-4460-b51e-f87fa942f113&#x27;\n                    }\n                },\n                boards: [{\n                        _id: &#x27;a1e866f2-e77e-45d8-997a-2e3ebeff4961&#x27;\n                    }]\n            }\n        ]\n    };\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return json; })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.getSubscriptions();\n    assert.deepStrictEqual(result, json);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb767678-77c2-4b25-bd57-16bac99d57ba&quot;,&quot;parentUUID&quot;:&quot;c9701418-7326-475c-acf6-a108b708e33c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI getSubscription() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd679dab-db24-496d-bb42-030670f764e1&quot;,&quot;parentUUID&quot;:&quot;c9701418-7326-475c-acf6-a108b708e33c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb767678-77c2-4b25-bd57-16bac99d57ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;cd679dab-db24-496d-bb42-030670f764e1&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;6f986523-0b06-4179-ab51-618160dcaf25&quot;,&quot;title&quot;:&quot;postMessage()&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/subscription-api.ts&quot;,&quot;file&quot;:&quot;/test/lib/subscription-api.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work (single mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (single mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const msg = new Message();\n    msg.fill(&#x27;ðŸŸ¥ðŸŸ§ðŸŸ¨ðŸŸ©ðŸŸ¦ðŸŸª&#x27;);\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(msg, &#x27;foo&#x27;);\n    assert.deepStrictEqual(result, {\n        message: {\n            id: &#x27;&#x27;,\n            created: 1\n        }\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd47e8fa-356e-4e3e-bc1f-c5f8019e4be6&quot;,&quot;parentUUID&quot;:&quot;6f986523-0b06-4179-ab51-618160dcaf25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (multi mode)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (multi mode)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        const msg = new Message(&#x27;Hello World&#x27;);\n        assert.strictEqual(url, &#x27;https://platform.vestaboard.com/subscriptions/foo/message&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;POST&#x27;,\n            headers: {\n                &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,\n                &#x27;X-Vestaboard-Api-Key&#x27;: &#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;,\n                &#x27;X-Vestaboard-Api-Secret&#x27;: &#x27;******************************&#x27;\n            },\n            body: JSON.stringify({ characters: msg.toCharArray() })\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () {\n                return ({\n                    message: {\n                        id: &#x27;&#x27;,\n                        created: 1\n                    }\n                });\n            })\n        };\n    });\n    const api = new SubscriptionAPI(&#x27;3eadf7a8-6602-4bf5-92f4-970d36066958&#x27;, &#x27;******************************&#x27;, { fetch });\n    const result = yield api.postMessage(&#x27;Hello World&#x27;, [&#x27;foo&#x27;, &#x27;foo&#x27;]);\n    assert.deepStrictEqual(result, [\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        },\n        {\n            message: {\n                id: &#x27;&#x27;,\n                created: 1\n            }\n        }\n    ]);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d7eeb9d-905e-409b-8dbe-39af00f18b07&quot;,&quot;parentUUID&quot;:&quot;6f986523-0b06-4179-ab51-618160dcaf25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work (live)&quot;,&quot;fullTitle&quot;:&quot;SubscriptionAPI postMessage() should work (live)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6f10097-9992-469f-b31f-ff6f12597f13&quot;,&quot;parentUUID&quot;:&quot;6f986523-0b06-4179-ab51-618160dcaf25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd47e8fa-356e-4e3e-bc1f-c5f8019e4be6&quot;,&quot;1d7eeb9d-905e-409b-8dbe-39af00f18b07&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;c6f10097-9992-469f-b31f-ff6f12597f13&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;4de6ff9f-ef49-48ce-a573-b21564e55ab0&quot;,&quot;title&quot;:&quot;Tools&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e98aab01-6e8f-43f1-a16a-7bd8d9855906&quot;,&quot;title&quot;:&quot;request&quot;,&quot;fullFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/test/lib/tools.ts&quot;,&quot;file&quot;:&quot;/test/lib/tools.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should work as intended&quot;,&quot;fullTitle&quot;:&quot;Tools request should work as intended&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: true,\n            status: 200,\n            statusText: &#x27;OK&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return ({ foo: &#x27;bar&#x27; }); })\n        };\n    });\n    const response = yield request(&#x27;https://example.com/test&#x27;, {\n        &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n    }, undefined, { fetch });\n    assert.deepStrictEqual(response, { foo: &#x27;bar&#x27; });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b5c59da-6d4a-4dad-848a-411cdf35b82d&quot;,&quot;parentUUID&quot;:&quot;e98aab01-6e8f-43f1-a16a-7bd8d9855906&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error on non 2xx status codes&quot;,&quot;fullTitle&quot;:&quot;Tools request should throw error on non 2xx status codes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10012,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const fetch = (url, options) =&gt; __awaiter(this, void 0, void 0, function* () {\n        assert.strictEqual(url, &#x27;https://example.com/test&#x27;);\n        assert.deepStrictEqual(options, {\n            method: &#x27;GET&#x27;,\n            headers: {\n                &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n            }\n        });\n        return {\n            ok: false,\n            status: 500,\n            statusText: &#x27;ERROR&#x27;,\n            json: () =&gt; __awaiter(this, void 0, void 0, function* () { return (&#x27;&#x27;); })\n        };\n    });\n    yield assert.rejects(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield request(&#x27;https://example.com/test&#x27;, {\n            &#x27;X-Test-Header&#x27;: &#x27;1337&#x27;\n        }, undefined, { fetch });\n    }), /HTTP Request failed/);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;010158a4-8fd8-4d5f-af9f-1e89aec3e2b7&quot;,&quot;parentUUID&quot;:&quot;e98aab01-6e8f-43f1-a16a-7bd8d9855906&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9b5c59da-6d4a-4dad-848a-411cdf35b82d&quot;,&quot;010158a4-8fd8-4d5f-af9f-1e89aec3e2b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10012,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;vestaboard&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/runner/work/vestaboard/vestaboard/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>